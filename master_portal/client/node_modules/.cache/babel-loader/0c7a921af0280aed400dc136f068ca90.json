{"remainingRequest":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\hospital_modules\\DrugManagement.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\hospital_modules\\DrugManagement.vue","mtime":1593847511089},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.string.iterator\";\nimport \"core-js/modules/es6.set\";\nimport _toConsumableArray from \"C:\\\\Users\\\\Ryan\\\\CongThongTinSauDaiHoc\\\\master_portal\\\\client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/toConsumableArray\";\nimport \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Ryan\\\\CongThongTinSauDaiHoc\\\\master_portal\\\\client\\\\node_modules\\\\@babel\\\\runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport HospitalService from '@/services/HospitalService';\nimport axios from 'axios';\nexport default {\n  data: function data() {\n    return {\n      listSystem: '',\n      listDrug: [],\n      tenThuocSystem: '',\n      hoatChatSystem: '',\n      nongDoSystem: '',\n      baoCheSystem: '',\n      tuoiThoSystem: '',\n      selected: '',\n      infoModal: {\n        tenThuoc: '',\n        hoatChat: '',\n        baoChe: '',\n        nongDo: '',\n        tuoiTho: '',\n        congTySx: '',\n        id: ''\n      },\n      user: '',\n      totalRows: 1,\n      currentPage: 1,\n      perPage: 5,\n      pageOptions: [5, 10, 15],\n      filter: null,\n      fields: [{\n        key: 'tenThuoc',\n        label: 'Tên Thuốc',\n        sortable: true,\n        sortDirection: 'desc'\n      }, {\n        key: 'hoatChat',\n        label: 'Hoạt Chất',\n        sortable: true\n      }, {\n        key: 'baoChe',\n        label: 'Dạng Bào Chế',\n        sortable: true,\n        sortDirection: 'desc'\n      }, {\n        key: 'nongDo',\n        label: 'Nồng Độ',\n        sortable: true,\n        sortDirection: 'desc'\n      }, {\n        key: 'tuoiTho',\n        label: 'Hạn Sử Dụng',\n        sortable: true,\n        sortDirection: 'desc'\n      }, {\n        key: 'actions',\n        label: 'Actions',\n        class: 'd-flex justify-content-center '\n      }]\n    };\n  },\n  created: function () {\n    var _created = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee() {\n      var user, userJSON, roles;\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.fetchdata();\n              _context.next = 3;\n              return localStorage.getItem(\"user\");\n\n            case 3:\n              user = _context.sent;\n              _context.next = 6;\n              return JSON.parse(user);\n\n            case 6:\n              userJSON = _context.sent;\n              _context.next = 9;\n              return userJSON;\n\n            case 9:\n              this.user = _context.sent;\n              roles = userJSON.roles;\n              _context.next = 13;\n              return HospitalService.getListDrugBank(userJSON.id);\n\n            case 13:\n              this.listDrug = _context.sent.data;\n              this.totalRows = this.listDrug.length;\n\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function created() {\n      return _created.apply(this, arguments);\n    }\n\n    return created;\n  }(),\n  methods: {\n    CloseModalModify: function CloseModalModify() {\n      this.$refs['modal-modify'].hide();\n    },\n    showModalModifyDrug: function showModalModifyDrug(item, index, button) {\n      this.infoModal.tenThuoc = item.tenThuoc;\n      this.infoModal.hoatChat = item.hoatChat;\n      this.infoModal.baoChe = item.baoChe;\n      this.infoModal.nongDo = item.nongDo;\n      this.infoModal.tuoiTho = item.tuoiTho;\n      this.infoModal.congTySx = item.congtySx;\n      this.infoModal.id = item.id;\n      this.$refs['modal-modify'].show();\n    },\n    deleteDrug: function () {\n      var _deleteDrug = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee2(item, index, button) {\n        return regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                if (!this.user.id) {\n                  _context2.next = 11;\n                  break;\n                }\n\n                _context2.prev = 1;\n                _context2.next = 4;\n                return HospitalService.SendRequestDeleteDrug({\n                  id: item.id\n                });\n\n              case 4:\n                if (~index) this.listDrug.splice(index, 1);\n                this.$toasted.show('Xóa Thành Công !!!', {\n                  theme: \"bubble\",\n                  position: \"bottom-right\",\n                  duration: 4000\n                });\n                _context2.next = 11;\n                break;\n\n              case 8:\n                _context2.prev = 8;\n                _context2.t0 = _context2[\"catch\"](1);\n                this.$toasted.show(\"\".concat(_context2.t0.response.data.error), {\n                  theme: \"toasted-primary\",\n                  position: \"bottom-center\",\n                  duration: 4000\n                });\n\n              case 11:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this, [[1, 8]]);\n      }));\n\n      function deleteDrug(_x, _x2, _x3) {\n        return _deleteDrug.apply(this, arguments);\n      }\n\n      return deleteDrug;\n    }(),\n    checkform: function checkform(route) {\n      if (!this.infoModal.tenThuoc && !this.infoModal.hoatChat && !this.infoModal.baoChe && !this.infoModal.nongDo && !this.infoModal.tuoiTho && !this.infoModal.congTySx) {\n        this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', {\n          theme: \"toasted-primary\",\n          position: \"bottom-center\",\n          duration: 4000\n        });\n      } else {\n        if (route === 'add') {\n          this.SendRequestCreateDrug();\n        } else {\n          this.SendRequestModifyDrug();\n        }\n      }\n    },\n    SendRequestModifyDrug: function () {\n      var _SendRequestModifyDrug = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee3() {\n        var _this = this;\n\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!this.user.id) {\n                  _context3.next = 12;\n                  break;\n                }\n\n                _context3.prev = 1;\n                _context3.next = 4;\n                return HospitalService.SendRequestModifyDrug({\n                  id: this.infoModal.id,\n                  id_hospital: this.user.id,\n                  tenThuoc: this.infoModal.tenThuoc,\n                  hoatChat: this.infoModal.hoatChat,\n                  baoChe: this.infoModal.baoChe,\n                  nongDo: this.infoModal.nongDo,\n                  tuoiTho: this.infoModal.tuoiTho,\n                  congTySx: this.infoModal.congTySx\n                });\n\n              case 4:\n                this.$toasted.show(\"C\\u1EADp Nh\\u1EADt Th\\xE0nh C\\xF4ng\", {\n                  theme: \"toasted-primary\",\n                  position: \"bottom-center\",\n                  duration: 4000\n                });\n                this.listDrug.filter(function (x) {\n                  return x.id == _this.infoModal.id;\n                }).map(function (item) {\n                  item.tenThuoc = _this.infoModal.tenThuoc;\n                  item.hoatChat = _this.infoModal.hoatChat;\n                  item.baoChe = _this.infoModal.baoChe;\n                  item.nongDo = _this.infoModal.nongDo;\n                  item.tuoiTho = _this.infoModal.tuoiTho;\n                  item.congTySx = _this.infoModal.congTySx;\n                });\n                this.CloseModalModify();\n                _context3.next = 12;\n                break;\n\n              case 9:\n                _context3.prev = 9;\n                _context3.t0 = _context3[\"catch\"](1);\n                this.$toasted.show(\"\".concat(_context3.t0.response.data.error), {\n                  theme: \"toasted-primary\",\n                  position: \"bottom-center\",\n                  duration: 4000\n                });\n\n              case 12:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this, [[1, 9]]);\n      }));\n\n      function SendRequestModifyDrug() {\n        return _SendRequestModifyDrug.apply(this, arguments);\n      }\n\n      return SendRequestModifyDrug;\n    }(),\n    SendRequestCreateDrug: function () {\n      var _SendRequestCreateDrug = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee4() {\n        return regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                if (!this.user.id) {\n                  _context4.next = 11;\n                  break;\n                }\n\n                _context4.prev = 1;\n                _context4.next = 4;\n                return HospitalService.SendRequestCreateDrugbank({\n                  id_hospital: this.user.id,\n                  tenThuoc: this.infoModal.tenThuoc,\n                  hoatChat: this.infoModal.hoatChat,\n                  baoChe: this.infoModal.baoChe,\n                  nongDo: this.infoModal.nongDo,\n                  tuoiTho: this.infoModal.tuoiTho,\n                  congTySx: this.infoModal.congTySx\n                });\n\n              case 4:\n                this.$toasted.show(\"Th\\xEAm Thu\\u1ED1c m\\u1EDBi th\\xE0nh c\\xF4ng\", {\n                  theme: \"toasted-primary\",\n                  position: \"bottom-center\",\n                  duration: 4000\n                });\n                _context4.next = 10;\n                break;\n\n              case 7:\n                _context4.prev = 7;\n                _context4.t0 = _context4[\"catch\"](1);\n                this.$toasted.show(\"\".concat(_context4.t0.response.data.error), {\n                  theme: \"toasted-primary\",\n                  position: \"bottom-center\",\n                  duration: 4000\n                });\n\n              case 10:\n                this.resetModal();\n\n              case 11:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this, [[1, 7]]);\n      }));\n\n      function SendRequestCreateDrug() {\n        return _SendRequestCreateDrug.apply(this, arguments);\n      }\n\n      return SendRequestCreateDrug;\n    }(),\n    resetModal: function resetModal() {\n      this.$refs['modal-add'].hide();\n      this.infoModal = '';\n    },\n    onFiltered: function onFiltered(filteredItems) {\n      this.totalRows = filteredItems.length;\n      this.currentPage = 1;\n    },\n    fetchdata: function () {\n      var _fetchdata = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee5() {\n        var _this2 = this;\n\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _context5.next = 2;\n                return axios.get('https://www.drugbank.vn/services/drugbank/api/public/thuoc?page=1&size=2000&fbclid=IwAR1vamwLTdSmIx8idqXMjg77a18AZ4nZYROoLE8dTTAR0sS4EUlvt7W3lMQ').then(function (response) {\n                  return _this2.listSystem = response.data.filter(function (x) {\n                    return x;\n                  }).map(function (x) {\n                    return x;\n                  });\n                });\n\n              case 2:\n                this.tenThuocSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.tenThuoc;\n                })));\n                this.hoatChatSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.hoatChat;\n                })));\n                this.nongDoSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.nongDo;\n                })));\n                this.baoCheSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.baoChe;\n                })));\n                this.tuoiThoSystem = _toConsumableArray(new Set(this.listSystem.map(function (x) {\n                  return x.tuoiTho;\n                })));\n\n              case 7:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n\n      function fetchdata() {\n        return _fetchdata.apply(this, arguments);\n      }\n\n      return fetchdata;\n    }()\n  }\n};",{"version":3,"sources":["DrugManagement.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div class=\"container mt-5 py-3\">\r\n                <b-row>\r\n                    <b-col md=\"12\" class=\"d-flex\">\r\n                        <b-col class=\"my-3\" md=\"5\">\r\n                            <b-form-group label-cols-sm=\"3\" label=\"Lọc\" class=\"mb-0\">\r\n                            <b-input-group>\r\n                                <b-form-input v-model=\"filter\" placeholder=\"Type to Search\"></b-form-input>\r\n                                <b-input-group-append>\r\n                                <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\r\n                                </b-input-group-append>\r\n                            </b-input-group>\r\n                            </b-form-group>\r\n                        </b-col>\r\n                        <b-col class=\"my-3\"  md=\"5\" >\r\n                            <b-form-group label-cols-sm=\"3\" label=\"Mỗi Trang\" class=\"mb-0\">\r\n                            <b-form-select v-model=\"perPage\" :options=\"pageOptions\"></b-form-select>\r\n                            </b-form-group>\r\n                        </b-col>\r\n                        <b-col md=\"2\" class=\"my-3 d-flex justify-content-end\">\r\n                            <b-button variant=\"outline-primary\" size='sm' v-b-modal.modal-add>Thêm Thuốc Mới</b-button>\r\n                        </b-col>\r\n                    </b-col>\r\n                    \r\n                </b-row>\r\n                <b-table\r\n                show-empty\r\n                bordered\r\n                hover\r\n                dark\r\n                striped\r\n                stacked=\"md\"\r\n                :items=\"listDrug\"\r\n                :fields=\"fields\"\r\n                :current-page=\"currentPage\"\r\n                :per-page=\"perPage\"\r\n                :filter=\"filter\"\r\n                ref=\"table\"\r\n                @filtered=\"onFiltered\"\r\n                >\r\n                    <template slot=\"actions\" slot-scope=\"row\">\r\n                        <b-button size=\"sm\" @click=\"showModalModifyDrug(row.item, row.index, $event.target)\" variant=\"outline-success\" class=\"mr-1\">\r\n                            Sửa Thông Tin\r\n                        </b-button>  \r\n\r\n                        <b-button size=\"sm\" @click=\"deleteDrug(row.item, row.index, $event.target)\" variant=\"outline-warning\" class=\"ml-1\">\r\n                            Xóa Thuốc\r\n                        </b-button>\r\n                    </template>\r\n                </b-table>\r\n\r\n                <b-row>\r\n                    <b-col md=\"6\" class=\"my-1\">\r\n                        <b-pagination\r\n                        v-model=\"currentPage\"\r\n                        :total-rows=\"totalRows\"\r\n                        :per-page=\"perPage\"\r\n                        class=\"my-0\"\r\n                        ></b-pagination>\r\n                    </b-col>\r\n                </b-row>\r\n\r\n\r\n\r\n\r\n        <b-modal id=\"modal-add\" size='lg' ref=\"modal-add\" title=\"Thêm Thuốc\">\r\n            <div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Tên Thuốc</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"LoadListDrug\" v-model=\"infoModal.tenThuoc\" class=\"width-100 style_input\">\r\n                        <datalist id=\"LoadListDrug\">\r\n                            <option v-for=\"(drug,index) in tenThuocSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div> \r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Hoạt Chất</p>\r\n                    <span class=\"col-sm-8\"><input list=\"ListHoatChat\"  type=\"text\" v-model=\"infoModal.hoatChat\" class=\"width-100 style_input\"></span>\r\n                    <datalist id=\"ListHoatChat\">\r\n                        <option v-for=\"(drug,index) in hoatChatSystem\" :key=\"index\">{{drug}}</option>\r\n                    </datalist>\r\n                </div>\r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Nồng Độ/Hàm Lượng</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"ListNongDo\" v-model=\"infoModal.nongDo\" class=\"width-100 style_input\">\r\n                        <datalist id=\"ListNongDo\">\r\n                            <option v-for=\"(drug,index) in nongDoSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div>\r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Dạng Bào Chế</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"ListBaoChe\" v-model=\"infoModal.baoChe\" class=\"width-100 style_input\">\r\n                        <datalist id=\"ListBaoChe\">\r\n                            <option v-for=\"(drug,index) in baoCheSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div>\r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Hạn Sử Dụng</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"ListTuoiTho\" v-model=\"infoModal.tuoiTho\" class=\"width-100 style_input\">\r\n                        <datalist id=\"ListTuoiTho\">\r\n                            <option v-for=\"(drug,index) in tuoiThoSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Công Ty Sản Xuất</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" v-model=\"infoModal.congTySx\" autocomplete=\"on\" class=\"width-100 style_input\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <template v-slot:modal-footer>\r\n                <div class=\"w-100\">\r\n                <b-button\r\n                    variant=\"secondary\"\r\n                    size=\"sm\"\r\n                    class=\"float-left text-white\"\r\n                    @click=\"resetModal\"\r\n                >\r\n                    Đóng\r\n                </b-button>\r\n                <b-button\r\n                    variant=\"warning\"\r\n                    size=\"sm\"\r\n                    class=\"float-right SendRequestCreateDrug text-white\"\r\n                    @click=\"checkform('add')\"\r\n                >\r\n                    <img src=\"@/assets/images/send.svg\" /> Thêm Thuốc\r\n                </b-button>\r\n                </div>\r\n            </template>\r\n        </b-modal>\r\n\r\n        <b-modal id=\"modal-modify\" size='lg' ref=\"modal-modify\" title=\"Thêm Thuốc\">\r\n            <div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Tên Thuốc</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"LoadListDrug\" v-model=\"infoModal.tenThuoc\" class=\"width-100 style_input\">\r\n                        <datalist id=\"LoadListDrug\">\r\n                            <option v-for=\"(drug,index) in tenThuocSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div> \r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Hoạt Chất</p>\r\n                    <span class=\"col-sm-8\"><input list=\"ListHoatChat\"  type=\"text\" v-model=\"infoModal.hoatChat\" class=\"width-100 style_input\"></span>\r\n                    <datalist id=\"ListHoatChat\">\r\n                        <option v-for=\"(drug,index) in hoatChatSystem\" :key=\"index\">{{drug}}</option>\r\n                    </datalist>\r\n                </div>\r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Nồng Độ/Hàm Lượng</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"ListNongDo\" v-model=\"infoModal.nongDo\" class=\"width-100 style_input\">\r\n                        <datalist id=\"ListNongDo\">\r\n                            <option v-for=\"(drug,index) in nongDoSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div>\r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Dạng Bào Chế</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"ListBaoChe\" v-model=\"infoModal.baoChe\" class=\"width-100 style_input\">\r\n                        <datalist id=\"ListBaoChe\">\r\n                            <option v-for=\"(drug,index) in baoCheSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div>\r\n\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Hạn Sử Dụng</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" list=\"ListTuoiTho\" v-model=\"infoModal.tuoiTho\" class=\"width-100 style_input\">\r\n                        <datalist id=\"ListTuoiTho\">\r\n                            <option v-for=\"(drug,index) in tuoiThoSystem\" :key=\"index\">{{drug}}</option>\r\n                        </datalist>\r\n                    </span>\r\n                </div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-4 title_editor\">Công Ty Sản Xuất</p>\r\n                    <span class=\"col-sm-8\">\r\n                        <input type=\"text\" v-model=\"infoModal.congTySx\" autocomplete=\"on\" class=\"width-100 style_input\">\r\n                    </span>\r\n                </div>\r\n            </div>\r\n            <template v-slot:modal-footer>\r\n                <div class=\"w-100\">\r\n                <b-button\r\n                    variant=\"secondary\"\r\n                    size=\"sm\"\r\n                    class=\"float-left text-white\"\r\n                    @click=\"CloseModalModify\"\r\n                >\r\n                    Đóng\r\n                </b-button>\r\n                <b-button\r\n                    variant=\"warning\"\r\n                    size=\"sm\"\r\n                    class=\"float-right SendRequestCreateDrug text-white\"\r\n                    @click=\"checkform('modify')\"\r\n                >\r\n                    <img src=\"@/assets/images/send.svg\" /> Gửi Yêu Cầu Sửa Thông Tin\r\n                </b-button>\r\n                </div>\r\n            </template>\r\n        </b-modal>\r\n    </div>\r\n    \r\n</template>\r\n\r\n<script>\r\nimport HospitalService from '@/services/HospitalService'\r\nimport axios from 'axios';\r\nexport default {\r\n    data(){\r\n        return{\r\n            listSystem:'',\r\n            listDrug:[],\r\n            tenThuocSystem:'',\r\n            hoatChatSystem:'',\r\n            nongDoSystem:'',\r\n            baoCheSystem:'',\r\n            tuoiThoSystem:'',\r\n            selected:'',\r\n            infoModal: {\r\n                tenThuoc: '',\r\n                hoatChat: '',\r\n                baoChe:'',\r\n                nongDo:'',\r\n                tuoiTho:'',\r\n                congTySx:'',\r\n                id:''\r\n            },\r\n            user:'',\r\n            totalRows: 1,\r\n            currentPage: 1,\r\n            perPage: 5,\r\n            pageOptions: [5, 10, 15],\r\n            filter: null,\r\n            fields: [\r\n                { key: 'tenThuoc', label: 'Tên Thuốc', sortable: true, sortDirection: 'desc' },\r\n                { key: 'hoatChat', label: 'Hoạt Chất', sortable: true},\r\n                { key: 'baoChe', label: 'Dạng Bào Chế', sortable: true, sortDirection: 'desc' },\r\n                { key: 'nongDo', label: 'Nồng Độ', sortable: true, sortDirection: 'desc' },\r\n                { key: 'tuoiTho', label: 'Hạn Sử Dụng', sortable: true, sortDirection: 'desc' },\r\n                { key: 'actions', label: 'Actions', class: 'd-flex justify-content-center ' }\r\n            ],\r\n        }\r\n    },\r\n    async created(){\r\n        this.fetchdata();\r\n        const user = await localStorage.getItem(\"user\");\r\n        const userJSON = await JSON.parse(user)\r\n        this.user = await userJSON;\r\n        const roles = userJSON.roles\r\n        this.listDrug = (await HospitalService.getListDrugBank(userJSON.id)).data;\r\n        this.totalRows = this.listDrug.length\r\n    },\r\n    methods:{\r\n        CloseModalModify(){\r\n            this.$refs['modal-modify'].hide();\r\n        },\r\n        showModalModifyDrug(item,index,button){\r\n            this.infoModal.tenThuoc = item.tenThuoc;\r\n            this.infoModal.hoatChat = item.hoatChat;\r\n            this.infoModal.baoChe = item.baoChe;\r\n            this.infoModal.nongDo = item.nongDo;\r\n            this.infoModal.tuoiTho = item.tuoiTho;\r\n            this.infoModal.congTySx = item.congtySx;\r\n            this.infoModal.id = item.id;\r\n            this.$refs['modal-modify'].show();\r\n\r\n        },\r\n        async deleteDrug(item,index,button){\r\n            if(this.user.id){\r\n                try {\r\n                    await HospitalService.SendRequestDeleteDrug({\r\n                        id:item.id,\r\n                    })\r\n                    if (~index) \r\n                        this.listDrug.splice(index, 1)\r\n                    this.$toasted.show('Xóa Thành Công !!!', { \r\n                        theme: \"bubble\",\r\n                        position: \"bottom-right\", \r\n                        duration : 4000\r\n                    });\r\n                }catch (error) {\r\n                        this.$toasted.show(`${error.response.data.error}`, { \r\n                            theme: \"toasted-primary\",\r\n                            position: \"bottom-center\", \r\n                            duration : 4000\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        checkform(route){\r\n            if(!this.infoModal.tenThuoc && !this.infoModal.hoatChat && !this.infoModal.baoChe && !this.infoModal.nongDo && !this.infoModal.tuoiTho && !this.infoModal.congTySx ){\r\n                this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }else{\r\n                if(route === 'add'){\r\n                    this.SendRequestCreateDrug();\r\n                }else{\r\n                    this.SendRequestModifyDrug();\r\n                }\r\n            }\r\n        },\r\n        async SendRequestModifyDrug(){\r\n            if(this.user.id){\r\n                try {\r\n                    await HospitalService.SendRequestModifyDrug({\r\n                        id:this.infoModal.id,\r\n                        id_hospital: this.user.id,\r\n                        tenThuoc: this.infoModal.tenThuoc,\r\n                        hoatChat: this.infoModal.hoatChat,\r\n                        baoChe:this.infoModal.baoChe,\r\n                        nongDo:this.infoModal.nongDo,\r\n                        tuoiTho:this.infoModal.tuoiTho,\r\n                        congTySx:this.infoModal.congTySx,\r\n                    })\r\n                    this.$toasted.show(`Cập Nhật Thành Công`, { \r\n                        theme: \"toasted-primary\",\r\n                        position: \"bottom-center\", \r\n                        duration : 4000\r\n                    });\r\n                    this.listDrug.filter(x=>x.id == this.infoModal.id).map((item) => {\r\n                        item.tenThuoc = this.infoModal.tenThuoc;\r\n                        item.hoatChat = this.infoModal.hoatChat;\r\n                        item.baoChe = this.infoModal.baoChe;\r\n                        item.nongDo = this.infoModal.nongDo;\r\n                        item.tuoiTho = this.infoModal.tuoiTho;\r\n                        item.congTySx = this.infoModal.congTySx;\r\n                    })\r\n                    this.CloseModalModify();\r\n                }catch (error) {\r\n                        this.$toasted.show(`${error.response.data.error}`, { \r\n                            theme: \"toasted-primary\",\r\n                            position: \"bottom-center\", \r\n                            duration : 4000\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        async SendRequestCreateDrug(){\r\n            if(this.user.id){\r\n                try {\r\n                    await HospitalService.SendRequestCreateDrugbank({\r\n                        id_hospital: this.user.id,\r\n                        tenThuoc: this.infoModal.tenThuoc,\r\n                        hoatChat: this.infoModal.hoatChat,\r\n                        baoChe:this.infoModal.baoChe,\r\n                        nongDo:this.infoModal.nongDo,\r\n                        tuoiTho:this.infoModal.tuoiTho,\r\n                        congTySx:this.infoModal.congTySx,\r\n                    })\r\n                    this.$toasted.show(`Thêm Thuốc mới thành công`, { \r\n                        theme: \"toasted-primary\",\r\n                        position: \"bottom-center\", \r\n                        duration : 4000\r\n                    });\r\n                }catch (error) {\r\n                        this.$toasted.show(`${error.response.data.error}`, { \r\n                            theme: \"toasted-primary\",\r\n                            position: \"bottom-center\", \r\n                            duration : 4000\r\n                    });\r\n                }\r\n                this.resetModal();\r\n            }\r\n          \r\n        },\r\n        resetModal(){\r\n            this.$refs['modal-add'].hide();\r\n            this.infoModal = '';\r\n        },\r\n        onFiltered(filteredItems) {\r\n            this.totalRows = filteredItems.length\r\n            this.currentPage = 1\r\n        },\r\n        async fetchdata(){\r\n            await axios\r\n                .get('https://www.drugbank.vn/services/drugbank/api/public/thuoc?page=1&size=2000&fbclid=IwAR1vamwLTdSmIx8idqXMjg77a18AZ4nZYROoLE8dTTAR0sS4EUlvt7W3lMQ')\r\n                .then(response => (this.listSystem = response.data.filter(x=>x).map(x=>x)));\r\n            this.tenThuocSystem = [...new Set(this.listSystem.map(x=>x.tenThuoc))]\r\n            this.hoatChatSystem = [...new Set(this.listSystem.map(x=>x.hoatChat))] \r\n            this.nongDoSystem = [...new Set(this.listSystem.map(x=>x.nongDo))]\r\n            this.baoCheSystem = [...new Set(this.listSystem.map(x=>x.baoChe))] \r\n            this.tuoiThoSystem =[...new Set(this.listSystem.map(x=>x.tuoiTho))] \r\n        }\r\n    }\r\n    \r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.title_editor{\r\n  font-weight: bold;\r\n  color:tomato;\r\n}\r\n.style_input{\r\n  border: 1px solid rgba(0,0,0,.54);\r\n  border-radius: 2px;\r\n  padding:0.25rem;\r\n}\r\n.width-100{\r\n  width: 100%;\r\n}\r\n.SendRequestCreateDrug img{\r\n    height:1rem;\r\n    width:1rem;\r\n}\r\n</style>\r\n"],"sourceRoot":"src/components/content/hospital_modules"}]}