{"remainingRequest":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\Login.vue","mtime":1594480142466},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594480122516},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1594480121032},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594480122516},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1594480141044}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport AuthenticationService from '@/services/AuthenticationService';\r\nimport AccountService from '@/services/AccountService';\r\nimport { mapGetters} from \"vuex\";\r\nexport default {\r\n  data(){\r\n    return{\r\n          API_KEYS:null,\r\n          API_CHECK:null,\r\n          email:'',\r\n          password:'',\r\n          password_again:''\r\n    }\r\n  },\r\n  computed: {\r\n        ...mapGetters([\"user\"]),\r\n        login_username: {\r\n           get(){ \r\n               return this.$store.getters.login_username\r\n            },\r\n           set(payload){  \r\n               this.$store.dispatch(\"updateUsername\",payload)\r\n           }\r\n        },\r\n        login_password: {\r\n           get(){ \r\n               return this.$store.getters.login_password\r\n            },\r\n           set(payload){  \r\n               this.$store.dispatch(\"updatePassword\",payload)\r\n           }\r\n        },\r\n  },\r\n  mounted() {\r\n    localStorage.removeItem('vuex');\r\n  },\r\n  methods:{\r\n        async checkAPIKEY(){\r\n            console.log(this.API_KEYS+' API_KEYS')\r\n            console.log(this.API_CHECK+ 'API_CHECK')\r\n            if(this.API_KEYS != this.API_CHECK){\r\n                this.$toasted.show(`Mã Xác Thực Không Đúng Vui lòng kiểm tra lại !`, { \r\n                    theme: \"bubble\", \r\n                    position: \"bottom-right\", \r\n                    duration : 5000\r\n                });\r\n            }else{\r\n                this.$root.$emit('bv::show::modal', 'modal-4', '#btnShow')\r\n            }\r\n        },\r\n        async changePassword(){\r\n            try {\r\n              const response = await AccountService.forgotPassword({\r\n                  api_key:'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',\r\n                  email:this.email,\r\n                  password:this.password\r\n              })\r\n              this.$toasted.show(`Đỗi Mật Khẩu Thành công !`, { \r\n                  theme: \"bubble\", \r\n                  position: \"bottom-center\", \r\n                  duration : 5000\r\n              });\r\n              this.$root.$emit('bv::hide::modal', 'modal-4', '#btnShow')\r\n              this.$root.$emit('bv::hide::modal', 'modal-3', '#btnShow')\r\n              this.$root.$emit('bv::hide::modal', 'modal-2', '#btnShow')\r\n\r\n          }catch (error) {\r\n              this.$toasted.show(`${error.response.data.error}`, { \r\n                  theme: \"outline\", \r\n                  position: \"bottom-center\", \r\n                  duration : 5000\r\n              });\r\n          }\r\n        },\r\n        checkForm:async function (e) {\r\n            if(!this.validEmail(this.email)) {\r\n                    this.$toasted.show(`Vui lòng nhập đúng định dạng email !`, { \r\n                    theme: \"outline\", \r\n                    position: \"bottom-center\", \r\n                    duration : 5000\r\n                });\r\n            }\r\n            else{\r\n                this.sendAuthentication();\r\n                this.$root.$emit('bv::show::modal', 'modal-3', '#btnShow')\r\n            }\r\n        },\r\n    validEmail: function (email) {\r\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(email)\r\n    },\r\n    validPassword: function (email) {\r\n        var re = /^[a-zA-Z0-9]{8,32}$/;\r\n        return re.test(email)\r\n    },\r\n    resetModal_2(){\r\n          this.API_KEYS = null,\r\n          this.API_CHECK = null,\r\n          this.email= '',\r\n          this.password='',\r\n          this.password_again='',\r\n          this.$root.$emit('bv::hide::modal', 'modal-2', '#btnShow')\r\n    },\r\n    resetModal_3(){\r\n          this.API_KEYS = null,\r\n          this.API_CHECK = null,\r\n          this.email= '',\r\n          this.password= '',\r\n          this.password_again=''.\r\n          this.$root.$emit('bv::hide::modal', 'modal-3', '#btnShow')\r\n    },\r\n    resetModal_4(){\r\n          this.API_KEYS = null,\r\n          this.API_CHECK = null,\r\n          this.email= '',\r\n          this.password= '',\r\n          this.password_again='',\r\n          this.$root.$emit('bv::hide::modal', 'modal-4', '#btnShow')\r\n    },\r\n    IntegerGenerator(){\r\n        return Math.floor(Math.random() * 10001);\r\n    },\r\n    async sendAuthentication(){\r\n        this.API_KEYS = this.IntegerGenerator();\r\n        console.log('this.API_KEYS '+this.API_KEYS)\r\n        try {\r\n            const response = await AuthenticationService.AuthenticationEmail({\r\n                API_KEYS:this.API_KEYS,\r\n                email:this.email\r\n            })\r\n        }catch (error) {\r\n            this.$toasted.show(`${error.response.data.error}`, { \r\n                theme: \"outline\", \r\n                position: \"bottom-center\", \r\n                duration : 5000\r\n            });\r\n        }\r\n    },\r\n    checkPassword(){\r\n      if(this.password !== this.password_again){\r\n          this.$toasted.show(`Password và Password xác nhận không giống nhau, Vui lòng kiểm tra lại !`, { \r\n              theme: \"outline\", \r\n              position: \"bottom-center\", \r\n              duration : 5000\r\n          });\r\n          this.password = '';\r\n          this.password_again = '';\r\n      }else if(!this.validPassword(this.password)){\r\n          this.$toasted.show(`Mật khẩu được cung cấp phải khớp với các quy tắc sau:\r\n              <br>\r\n              1. Nó phải chứa chỉ các ký tự sau: chữ thường, chữ hoa, chữ số.\r\n              <br>\r\n              2. mật khẩu dài ít nhất 8 kí tự và không dài hơn 32 kí tự.\r\n              `, {\r\n              theme: \"outline\", \r\n              position: \"bottom-center\", \r\n              duration : 5000\r\n          });\r\n      }\r\n      else{\r\n          this.changePassword();\r\n      }\r\n    },\r\n    async submitLogin(){\r\n            try {\r\n                const response = await AuthenticationService.login({\r\n                  email: this.login_username,\r\n                  password: this.login_password\r\n                })\r\n                  this.$store.dispatch('setToken', response.data.token)\r\n                  this.$store.dispatch('setUser', response.data.user)\r\n                  this.$store.dispatch('resetlogin')\r\n                  window.scrollTo(0,100)   //trick fix slow react\r\n              console.log(response)\r\n              if(response.data.user.isUpdateInformation == 0 ){\r\n                this.$router.push({\r\n                  name:'UpdateInformationRegister',\r\n                  // params: {id:this.user.id}\r\n                })\r\n               }\r\n               else if(response.data.user.roles == 1){\r\n                this.$router.push({\r\n                  name:'patient',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n              else if(response.data.user.roles == 2){\r\n                this.$router.push({\r\n                  name:'hospital',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n              else if(response.data.user.roles == 3){\r\n                this.$router.push({\r\n                  name:'doctor',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n\r\n              else if(response.data.user.roles == 0){\r\n                this.$router.push({\r\n                  name:'admin',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n\r\n            }         \r\n            catch (error) {\r\n              this.$toasted.show(`${error.response.data.error}`, { \r\n                theme: \"bubble\", \r\n                position: \"bottom-right\", \r\n                duration : 2000\r\n              });\r\n              \r\n              }\r\n        },\r\n  },\r\n};\r\n",{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n<div class=\"bg\">\r\n<form>\r\n     <b-row class=\"login shadow p-3 mb-5 bg-white rounded \">\r\n      <b-col\r\n        cols=\"12\"\r\n        class=\"label-login d-flex justify-content-center text-red\"\r\n      >\r\n        <h2>Đăng Nhập</h2>\r\n      </b-col>\r\n\r\n      <b-col cols=\"12\">\r\n        <b-row class=\"lg-control\">\r\n          <b-col class=\"d-flex inputCus\"\r\n            ><input type=\"text\" placeholder=\"Nhập Tài Khoản\" v-model=\"login_username\" />\r\n          </b-col>\r\n          <span class=\"d-flex align-items-center\"><img src=\"@/assets/images/man-user.svg\" /></span>\r\n        </b-row>\r\n      </b-col>\r\n\r\n      <div class=\"spacer-5\"></div>\r\n\r\n      <b-col cols=\"12\">\r\n        <b-row class=\"lg-control\">\r\n          <b-col class=\"d-flex inputCus\"\r\n            ><input type=\"password\" placeholder=\"Nhập Mật Khẩu\" v-model=\"login_password\"\r\n          /></b-col>\r\n           <span class=\"d-flex align-items-center\"><img src=\"@/assets/images/locked.svg\" /></span>\r\n        </b-row>\r\n      </b-col>\r\n      <div class=\"spacer-5\"></div>\r\n      <b-col cols=\"12\">\r\n        <b-row class=\"justify-content-around\">\r\n          <b-button variant=\"outline-primary\" @click=\"submitLogin\">Đăng Nhập</b-button>\r\n        </b-row>\r\n      </b-col>\r\n\r\n      <b-col cols=\"12\">\r\n        <b-row class=\"d-flex justify-content-center\">\r\n        <p class=\"text-request\" v-b-modal.modal-1>\r\n            </p>\r\n          <b-modal id=\"modal-1\" title=\"ĐĂNG KÍ\" class=\"text-center\"  ok-only>\r\n              <router-link to=\"/registerpatient\"><p class=\"my-4\">Đăng Kí Dành Cho Bệnh Nhân</p></router-link>\r\n              <router-link to=\"/registerhospital\"><p class=\"my-4\">Đăng Kí Dành Cho Bệnh Viện</p></router-link>\r\n          </b-modal>\r\n        </b-row>\r\n      </b-col>\r\n      <b-col cols=\"12\">\r\n        <b-row class=\"d-flex justify-content-center\">\r\n        <p class=\"text-request\" v-b-modal.modal-2>\r\n            </p>\r\n          <b-modal id=\"modal-2\" title=\"Quên mật khẩu\" class=\"d-flex\">\r\n            <span class=\"title\"> Nhập Email </span>\r\n            <input  type=\"text\" class=\"w-100 p-1\" v-model=\"email\">\r\n              <template v-slot:modal-footer>\r\n                  <div class=\"w-100\">\r\n                  <b-button\r\n                      variant=\"secondary\"\r\n                      size=\"sm\"\r\n                      class=\"float-right text-white\"\r\n                      @click=\"resetModal_2\"\r\n                  >\r\n                      Đóng\r\n                  </b-button>\r\n                  <b-button\r\n                      @click=\"checkForm\"\r\n                      variant=\"warning\"\r\n                      size=\"sm\"\r\n                      class=\"float-right mr-3 SendReqCreateJob text-white\"\r\n                  >\r\n                      Gửi Yêu Cầu Đổi Mật Khẩu\r\n                  </b-button>\r\n                  </div>\r\n              </template>\r\n          </b-modal>\r\n          <b-modal id=\"modal-3\" title=\"Xác Thực\" class=\"d-flex\">\r\n            <span class=\"title\"> Nhập Mã Xác Thực Nhận Được  </span>\r\n            <input  type=\"text\" class=\"w-100 p-1\" v-model=\"API_CHECK\">\r\n              <template v-slot:modal-footer>\r\n                  <div class=\"w-100\">\r\n                  <b-button\r\n                      variant=\"secondary\"\r\n                      size=\"sm\"\r\n                      class=\"float-right text-white\"\r\n                      @click=\"resetModal_3\"\r\n                  >\r\n                      Đóng\r\n                  </b-button>\r\n                  <b-button\r\n                      @click=\"checkAPIKEY\"\r\n                      variant=\"warning\"\r\n                      size=\"sm\"\r\n                      class=\"float-right mr-3 SendReqCreateJob text-white\"\r\n                  >\r\n                      Gửi Xác Thực\r\n                  </b-button>\r\n                  </div>\r\n              </template>\r\n          </b-modal>\r\n          <b-modal id=\"modal-4\" title=\"Đổi Mật Khẩu\" class=\"d-flex\">\r\n            <div class=\"py-2\">\r\n              <span class=\"title\"> Nhập Mật khẩu Mới  </span>\r\n              <input  type=\"password\" class=\"w-100 p-1\" v-model=\"password\">\r\n            </div>\r\n            <div class=\"py-2\">\r\n                <span class=\"title\"> Nhập Lại Mật khẩu Mới  </span>\r\n                <input type=\"password\" class=\"w-100 p-1\" v-model=\"password_again\">\r\n            </div>\r\n              <template v-slot:modal-footer>\r\n                  <div class=\"w-100\">\r\n                  <b-button\r\n                      variant=\"secondary\"\r\n                      size=\"sm\"\r\n                      class=\"float-right text-white\"\r\n                      @click=\"resetModal_4\"\r\n                  >\r\n                      Đóng\r\n                  </b-button>\r\n                  <b-button\r\n                      @click=\"checkPassword\"\r\n                      variant=\"success\"\r\n                      size=\"sm\"\r\n                      class=\"float-right mr-3 SendReqCreateJob text-white\"\r\n                  >\r\n                      Gửi Xác Thực\r\n                  </b-button>\r\n                  </div>\r\n              </template>\r\n          </b-modal>\r\n        </b-row>\r\n      </b-col>\r\n    </b-row>\r\n</form>\r\n</div>\r\n</template>\r\n<script>\r\nimport AuthenticationService from '@/services/AuthenticationService';\r\nimport AccountService from '@/services/AccountService';\r\nimport { mapGetters} from \"vuex\";\r\nexport default {\r\n  data(){\r\n    return{\r\n          API_KEYS:null,\r\n          API_CHECK:null,\r\n          email:'',\r\n          password:'',\r\n          password_again:''\r\n    }\r\n  },\r\n  computed: {\r\n        ...mapGetters([\"user\"]),\r\n        login_username: {\r\n           get(){ \r\n               return this.$store.getters.login_username\r\n            },\r\n           set(payload){  \r\n               this.$store.dispatch(\"updateUsername\",payload)\r\n           }\r\n        },\r\n        login_password: {\r\n           get(){ \r\n               return this.$store.getters.login_password\r\n            },\r\n           set(payload){  \r\n               this.$store.dispatch(\"updatePassword\",payload)\r\n           }\r\n        },\r\n  },\r\n  mounted() {\r\n    localStorage.removeItem('vuex');\r\n  },\r\n  methods:{\r\n        async checkAPIKEY(){\r\n            console.log(this.API_KEYS+' API_KEYS')\r\n            console.log(this.API_CHECK+ 'API_CHECK')\r\n            if(this.API_KEYS != this.API_CHECK){\r\n                this.$toasted.show(`Mã Xác Thực Không Đúng Vui lòng kiểm tra lại !`, { \r\n                    theme: \"bubble\", \r\n                    position: \"bottom-right\", \r\n                    duration : 5000\r\n                });\r\n            }else{\r\n                this.$root.$emit('bv::show::modal', 'modal-4', '#btnShow')\r\n            }\r\n        },\r\n        async changePassword(){\r\n            try {\r\n              const response = await AccountService.forgotPassword({\r\n                  api_key:'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',\r\n                  email:this.email,\r\n                  password:this.password\r\n              })\r\n              this.$toasted.show(`Đỗi Mật Khẩu Thành công !`, { \r\n                  theme: \"bubble\", \r\n                  position: \"bottom-center\", \r\n                  duration : 5000\r\n              });\r\n              this.$root.$emit('bv::hide::modal', 'modal-4', '#btnShow')\r\n              this.$root.$emit('bv::hide::modal', 'modal-3', '#btnShow')\r\n              this.$root.$emit('bv::hide::modal', 'modal-2', '#btnShow')\r\n\r\n          }catch (error) {\r\n              this.$toasted.show(`${error.response.data.error}`, { \r\n                  theme: \"outline\", \r\n                  position: \"bottom-center\", \r\n                  duration : 5000\r\n              });\r\n          }\r\n        },\r\n        checkForm:async function (e) {\r\n            if(!this.validEmail(this.email)) {\r\n                    this.$toasted.show(`Vui lòng nhập đúng định dạng email !`, { \r\n                    theme: \"outline\", \r\n                    position: \"bottom-center\", \r\n                    duration : 5000\r\n                });\r\n            }\r\n            else{\r\n                this.sendAuthentication();\r\n                this.$root.$emit('bv::show::modal', 'modal-3', '#btnShow')\r\n            }\r\n        },\r\n    validEmail: function (email) {\r\n        var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(email)\r\n    },\r\n    validPassword: function (email) {\r\n        var re = /^[a-zA-Z0-9]{8,32}$/;\r\n        return re.test(email)\r\n    },\r\n    resetModal_2(){\r\n          this.API_KEYS = null,\r\n          this.API_CHECK = null,\r\n          this.email= '',\r\n          this.password='',\r\n          this.password_again='',\r\n          this.$root.$emit('bv::hide::modal', 'modal-2', '#btnShow')\r\n    },\r\n    resetModal_3(){\r\n          this.API_KEYS = null,\r\n          this.API_CHECK = null,\r\n          this.email= '',\r\n          this.password= '',\r\n          this.password_again=''.\r\n          this.$root.$emit('bv::hide::modal', 'modal-3', '#btnShow')\r\n    },\r\n    resetModal_4(){\r\n          this.API_KEYS = null,\r\n          this.API_CHECK = null,\r\n          this.email= '',\r\n          this.password= '',\r\n          this.password_again='',\r\n          this.$root.$emit('bv::hide::modal', 'modal-4', '#btnShow')\r\n    },\r\n    IntegerGenerator(){\r\n        return Math.floor(Math.random() * 10001);\r\n    },\r\n    async sendAuthentication(){\r\n        this.API_KEYS = this.IntegerGenerator();\r\n        console.log('this.API_KEYS '+this.API_KEYS)\r\n        try {\r\n            const response = await AuthenticationService.AuthenticationEmail({\r\n                API_KEYS:this.API_KEYS,\r\n                email:this.email\r\n            })\r\n        }catch (error) {\r\n            this.$toasted.show(`${error.response.data.error}`, { \r\n                theme: \"outline\", \r\n                position: \"bottom-center\", \r\n                duration : 5000\r\n            });\r\n        }\r\n    },\r\n    checkPassword(){\r\n      if(this.password !== this.password_again){\r\n          this.$toasted.show(`Password và Password xác nhận không giống nhau, Vui lòng kiểm tra lại !`, { \r\n              theme: \"outline\", \r\n              position: \"bottom-center\", \r\n              duration : 5000\r\n          });\r\n          this.password = '';\r\n          this.password_again = '';\r\n      }else if(!this.validPassword(this.password)){\r\n          this.$toasted.show(`Mật khẩu được cung cấp phải khớp với các quy tắc sau:\r\n              <br>\r\n              1. Nó phải chứa chỉ các ký tự sau: chữ thường, chữ hoa, chữ số.\r\n              <br>\r\n              2. mật khẩu dài ít nhất 8 kí tự và không dài hơn 32 kí tự.\r\n              `, {\r\n              theme: \"outline\", \r\n              position: \"bottom-center\", \r\n              duration : 5000\r\n          });\r\n      }\r\n      else{\r\n          this.changePassword();\r\n      }\r\n    },\r\n    async submitLogin(){\r\n            try {\r\n                const response = await AuthenticationService.login({\r\n                  email: this.login_username,\r\n                  password: this.login_password\r\n                })\r\n                  this.$store.dispatch('setToken', response.data.token)\r\n                  this.$store.dispatch('setUser', response.data.user)\r\n                  this.$store.dispatch('resetlogin')\r\n                  window.scrollTo(0,100)   //trick fix slow react\r\n              console.log(response)\r\n              if(response.data.user.isUpdateInformation == 0 ){\r\n                this.$router.push({\r\n                  name:'UpdateInformationRegister',\r\n                  // params: {id:this.user.id}\r\n                })\r\n               }\r\n               else if(response.data.user.roles == 1){\r\n                this.$router.push({\r\n                  name:'patient',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n              else if(response.data.user.roles == 2){\r\n                this.$router.push({\r\n                  name:'hospital',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n              else if(response.data.user.roles == 3){\r\n                this.$router.push({\r\n                  name:'doctor',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n\r\n              else if(response.data.user.roles == 0){\r\n                this.$router.push({\r\n                  name:'admin',\r\n                  params: {id:this.user.id}\r\n                })\r\n               }\r\n\r\n            }         \r\n            catch (error) {\r\n              this.$toasted.show(`${error.response.data.error}`, { \r\n                theme: \"bubble\", \r\n                position: \"bottom-right\", \r\n                duration : 2000\r\n              });\r\n              \r\n              }\r\n        },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* dùng emit gửi cho app.vue để set-backgouround */\r\n.bg {\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  margin-top: 15vh;\r\n  margin-bottom: 10vh;\r\n  font-size: 14px;\r\n\r\n}\r\n.login {\r\n  border: 1px solid #bdc3c7;\r\n  border-radius: 15px;\r\n  width: 50vh;\r\n  height: 75vh;\r\n  background: #000;\r\n  margin: auto;\r\n}\r\n.label-login {\r\n  padding: 1rem 0;\r\n}\r\n\r\n.spacer-10 {\r\n  width: 100%;\r\n  height: 10px;\r\n}\r\n\r\n.label-login {\r\n  margin-top: 5vh;\r\n}\r\n\r\n.lg-control input{\r\n  border: 1px solid #bdc3c7;\r\n  padding: 1ex;\r\n  position: relative;\r\n  padding-left: 30px;\r\n  border-radius: 5px;\r\n  width: 80vmin;\r\n}\r\n\r\n.lg-control img {\r\n  height: 1.2em;\r\n  width: 1.2em;\r\n  position: absolute;\r\n  left: 25px;\r\n}\r\n.inputCus {\r\n  position: relative;\r\n}\r\n.border-top-custom {\r\n  border-top: 1px solid #cdc9c9;\r\n}\r\n\r\n.seperate {\r\n  padding: 0 15px;\r\n  color: #cdc9c9;\r\n}\r\n.text-request {\r\n  color: #2c3e50;\r\n}\r\n\r\n.text-red {\r\n  color: red;\r\n}\r\n\r\n.text-request:hover {\r\n  text-decoration: underline;\r\n  cursor: pointer;\r\n} \r\n.title{\r\n  font-size: 1.2rem;\r\n  color:#2c3e50;\r\n}\r\n</style>\r\n"]}]}