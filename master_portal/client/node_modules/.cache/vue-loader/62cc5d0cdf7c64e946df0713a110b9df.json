{"remainingRequest":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\Hospital.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\Hospital.vue","mtime":1594480142462},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594480122516},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":1594480121032},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1594480122516},{"path":"C:\\Users\\TRUC XIU\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":1594480141044}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport HospitalService from '@/services/HospitalService'\r\nimport AccountService from '@/services/AccountService'\r\n  export default {\r\n    data() {\r\n      return {\r\n        get isUserLoggedIn() {\r\n          return localStorage.getItem('isUserLoggedIn' || false);\r\n        },\r\n        doctors:[],\r\n        fields: [\r\n          { key: 'name', label: 'Họ và Tên', sortable: true, sortDirection: 'desc' },\r\n          {key: 'age', label: 'Tuổi', sortable: true, class: 'text-center'},\r\n          { key: 'id_account', label: 'ID', sortable: true, sortDirection: 'desc', class: 'text-center' },\r\n          { key: 'department', label: 'Phòng ban', sortable: true },\r\n          { key: 'specialize', label: 'Chuyên môn', sortable: true },\r\n          { key: 'email', label: 'Email', formatter: 'GetFieldsemail',sortable: true  },\r\n          { key: 'actions', label: 'Actions', class: 'd-flex justify-content-center ' }\r\n        ],\r\n        totalRows: 1,\r\n        currentPage: 1,\r\n        perPage: 5,\r\n        id_hospital:'',\r\n        pageOptions: [5, 10, 15],\r\n        filter: null,\r\n        infoModal: {\r\n          id: 'info-modal',\r\n          title: '',\r\n          content: '',\r\n          firstname_doctor:null\r\n        },\r\n        account_doctor_:[],\r\n\r\n        isModifyFirstName:false,\r\n        isModifyLastName:false,\r\n        isModifyPhone:false,\r\n        isModifyAddress:false,\r\n        isModifyEmail:false,\r\n        isModifyPassword:false,\r\n        isModifyDepartment:false,\r\n        isModifySpecialize:false,\r\n        isModifyCmnd:false,\r\n        isModifySex:false,\r\n        isModifyBirthday:false,\r\n\r\n        department_modify:'',\r\n        specialize_modify:'',\r\n        cmnd_modify:'',\r\n        sex_modify:'',\r\n        birthday_modify:'',\r\n        email_modify:'',\r\n        password_modify:'',\r\n        phone_modify:'',\r\n        address_modify:'',\r\n        firstname_modify:'',\r\n        lastname_modify:'',\r\n        user:null,\r\n        passwordchangeValue:'',\r\n        passwordchangeValueAgain:'',\r\n        currentItem:'',\r\n        currentIndex:'',\r\n        currentButton:''\r\n      }\r\n    },\r\n    async mounted() {\r\n      this.user =JSON.parse(localStorage.getItem('user'))\r\n      const id_hospital = this.user.id\r\n      this.doctors = (await HospitalService.show(id_hospital)).data\r\n      const id_account_doctor = this.doctors.map(x=> x.id_account)\r\n      const payload = JSON.stringify({\r\n        id_hospital:id_hospital,\r\n        roles:this.user.roles,\r\n        id_account:id_account_doctor\r\n        \r\n      })\r\n\r\n      this.account_doctor_ = (await AccountService.getAllAcountDoctors({\r\n        payload:payload\r\n      })).data\r\n      this.totalRows = this.doctors.length\r\n    },\r\n    methods: {\r\n      validationPasswordChange(){\r\n        if(!this.passwordchangeValue || !this.passwordchangeValueAgain){\r\n            this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', { \r\n            theme: \"bubble\",\r\n            position: \"bottom-right\", \r\n            duration : 4000\r\n        });\r\n        }else if(this.passwordchangeValue !== this.passwordchangeValueAgain){\r\n          this.$toasted.show(`Mật Khẩu Và Mật Khẩu Xác Nhận Không Giống Nhau !!!<br>Vui Lòng Kiểm Tra Lại !!!`, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 5000\r\n        });\r\n        }else if(this.passwordchangeValue.length < 8){\r\n          this.$toasted.show(`Mật khẩu được cung cấp phải khớp với các quy tắc sau:\\n            <br><br>\\n            1. Nó phải chứa chỉ các ký tự sau: chữ thường, chữ hoa, chữ số.\\n            <br><br>\\n            2. mật khẩu dài ít nhất 8 kí tự và không dài hơn 32 kí tự.\\n            </div>\\n        `, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 4000\r\n        });\r\n        }else{\r\n          this.changepassword();\r\n          this.closeModal2();\r\n        }\r\n      },\r\n      closeModal2(){\r\n        this.passwordchangeValue = ''\r\n        this.passwordchangeValueAgain = ''\r\n        this.$root.$emit('bv::hide::modal', \"modal-2\", \"button\")\r\n      },\r\n      async changepassword(){\r\n        try {\r\n            await HospitalService.changePassword({\r\n              id_account:this.user.id,\r\n              password_hospital:this.passwordchangeValue\r\n          })\r\n        } catch (error) {\r\n          this.ErrorToasted(error)\r\n        }\r\n\r\n            this.$toasted.show(`Cập Nhập Thành công !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n      },\r\n      async addDoctor(){\r\n          this.$router.push({\r\n            path: `/Hospital/${this.user.id}/addDoctor`\r\n          })\r\n      },\r\n      drugmanagement(){\r\n          this.$router.push({\r\n            path: `/Hospital/${this.user.id}/drugmanagement`\r\n          })\r\n      },\r\n      async deleteDoctor(item, index, button){\r\n        this.currentItem = item\r\n        this.currentIndex = index\r\n        this.currentButton = button\r\n        this.$root.$emit('bv::toggle::modal', 'modal-ask-again', '#btnToggle')\r\n\r\n\r\n        \r\n      },\r\n      cancelDelete(){\r\n        this.$refs['modal-ask-again'].hide()\r\n        this.currentItem = '';\r\n        this.currentIndex = '';\r\n        this.currentButton = '';\r\n      },\r\n      async agreeDelete(){\r\n        const delete_result = (await HospitalService.delete(this.currentItem.id_account)).data      \r\n          this.$toasted.show(`Đã xóa bác sĩ ${delete_result.lastname} Thành công !!`, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 2000\r\n        });\r\n        if (~this.currentIndex)\r\n          this.doctors.splice(this.currentIndex, 1)\r\n        this.currentItem = '';\r\n        this.currentIndex = '';\r\n        this.currentButton = '';\r\n        this.$refs['modal-ask-again'].hide()\r\n\r\n      },\r\n      GetFieldsemail(row,key,item){\r\n        for(var account_doctor__ of this.account_doctor_) {\r\n            if(account_doctor__.id == item.id_account){\r\n              return account_doctor__.email\r\n            }\r\n        }\r\n      },\r\n      changeInfo(item, index, button) {\r\n          // this.$router.push({\r\n          //   path: `/Hospital/${this.user.id}/changeInfo`\r\n          // })\r\n        this.infoModal.title = `Thay đổi thông tin`\r\n        this.infoModal.lastname_doctor = item.lastname\r\n        this.infoModal.firstname_doctor = item.firstname\r\n        this.infoModal.cmnd_doctor = item.cmnd\r\n        this.infoModal.sex_doctor = item.sex\r\n        this.infoModal.phone_doctor = item.phone\r\n        this.infoModal.address_doctor = item.address\r\n        this.infoModal.id_account = item.id_account\r\n        this.infoModal.department = item.department\r\n        this.infoModal.specialize = item.specialize\r\n        this.infoModal.birthday = item.month + ' / ' + item.day + ' / ' + item.year \r\n        this.infoModal.email_doctor = this.GetFieldsemail('row','key',item)\r\n\r\n        this.infoModal.password = ''\r\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\r\n\r\n      },\r\n      cancelModify(payload){\r\n        if(payload == 'firstname'){\r\n          this.isModifyFirstName = false\r\n        }\r\n        else if(payload == 'lastname'){\r\n          this.isModifyLastName = false\r\n        }\r\n        else if(payload == 'phone'){\r\n          this.isModifyPhone = false\r\n        }\r\n        else if(payload == 'address'){\r\n          this.isModifyAddress = false\r\n        }\r\n        else if(payload == 'email'){\r\n          this.isModifyEmail = false\r\n        }\r\n        else if(payload == 'password'){\r\n          this.isModifyPassword = false\r\n        }\r\n        else if(payload == 'department'){\r\n          this.isModifyDepartment = false\r\n        }\r\n        else if(payload == 'specialize'){\r\n          this.isModifySpecialize = false\r\n        }\r\n        else if(payload == 'birthday'){\r\n          this.isModifyBirthday = false\r\n        }\r\n        else if(payload == 'sex'){\r\n          this.isModifySex = false\r\n        }\r\n        else if(payload == 'phone'){\r\n          this.isModifyPhone = false\r\n        }\r\n        else if(payload == 'cmnd'){\r\n          this.isModifyCmnd = false\r\n        }\r\n        else{\r\n          this.$toasted.show(`Có lỗi xãy ra!!`, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 2000\r\n        });\r\n\r\n        }\r\n      },\r\n      async SussessToasted(){\r\n        this.$toasted.show(`Update Thành công !!`, { \r\n            theme: \"bubble\",\r\n            position: \"bottom-right\", \r\n            duration : 3000\r\n        });\r\n      },\r\n      async ErrorToasted(error){\r\n        this.$toasted.show(`${error.response.data.error}`, { \r\n            theme: \"toasted-primary\", \r\n            position: \"bottom-center\",\r\n            duration : 5000\r\n        });\r\n      },\r\n      async ValidationToasted(name){\r\n        this.$toasted.show(`Vui lòng nhập ${name} bạn muốn thay đổi !!`, { \r\n              theme: \"toasted-primary\", \r\n              position: \"bottom-center\", \r\n              duration : 3000\r\n          });\r\n      },\r\n      async ModifyView(nameModifyView ,id_account){\r\n        if(nameModifyView == 'firstname'){\r\n          this.infoModal.firstname_doctor = this.firstname_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].firstname = this.firstname_modify\r\n        }\r\n        else if(nameModifyView == 'lastname'){\r\n          this.infoModal.lastname_doctor = this.lastname_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].lastname = this.lastname_modify\r\n        }\r\n        else if(nameModifyView == 'address'){\r\n          this.infoModal.address_doctor = this.address_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].address = this.address_modify\r\n        }\r\n        else if(nameModifyView == 'email'){\r\n          this.infoModal.email_doctor = this.email_modify\r\n          this.account_doctor_.filter(x=>x.id_account == id_account)[0].email = this.email_modify\r\n        }\r\n        else if(nameModifyView == 'department'){\r\n          this.infoModal.department = this.department_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].department = this.department_modify\r\n        }\r\n        else if(nameModifyView == 'specialize'){\r\n          this.infoModal.specialize = this.specialize_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].specialize = this.specialize_modify\r\n        }\r\n        else if(nameModifyView == 'cmnd'){\r\n          this.infoModal.cmnd_doctor = this.cmnd_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].cmnd = this.cmnd_modify\r\n        }\r\n        else if(nameModifyView == 'phone'){\r\n          this.infoModal.phone_doctor = this.phone_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].phone = this.phone_modify\r\n        }\r\n        else if(nameModifyView == 'sex'){\r\n          this.infoModal.sex_doctor = this.sex_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].sex = this.sex_modify\r\n\r\n        }\r\n        else if(nameModifyView == 'birthday'){\r\n          const date = this.birthday_modify;\r\n          const yearVariable = date.slice(0, 4)\r\n          const monthVariable = date.slice(5, 7)\r\n          const dayVariable = date.slice(8, 10)\r\n          this.infoModal.birthday = monthVariable +' / '+ dayVariable +' / '+ yearVariable\r\n\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].day = dayVariable\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].month = monthVariable\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].year = yearVariable\r\n        }\r\n        \r\n      },\r\n\r\n\r\n      async SendRequestModifyInfomation(id_account, nameModify){\r\n        switch (nameModify) {\r\n          case 'firstname':\r\n            if(this.firstname_modify){\r\n              try {\r\n                  await HospitalService.updateFirstNameDoctor({\r\n                    id_account:id_account,\r\n                    firstname:this.firstname_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('firstname',id_account)\r\n                  this.isModifyFirstName = false\r\n                  this.firstname_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Họ và tên lót')\r\n            } \r\n            break;\r\n\r\n          case 'lastname':\r\n            if(this.lastname_modify){\r\n              try {\r\n                  await HospitalService.updateLastNameDoctor({\r\n                    id_account:id_account,\r\n                    lastname:this.lastname_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('lastname',id_account)\r\n                  this.isModifyLastName = false\r\n                  this.lastname_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Tên')\r\n            } \r\n            break;\r\n\r\n\r\n          case 'address':\r\n            if(this.address_modify){\r\n              try {\r\n                  await HospitalService.updateAddressDoctor({\r\n                    id_account:id_account,\r\n                    address:this.address_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('address',id_account)\r\n                  this.isModifyAddress = false\r\n                  this.address_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Địa Chỉ')\r\n            } \r\n            break;\r\n\r\n\r\n          case 'email':\r\n            if(this.email_modify){\r\n              try {\r\n                  await HospitalService.updateEmailDoctor({\r\n                    id_account:id_account,\r\n                    email:this.email_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('email',id_account)\r\n                  this.isModifyEmail = false\r\n                  this.email_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Email')\r\n            } \r\n            break;\r\n\r\n          case 'password':\r\n            if(this.password_modify){\r\n              try {\r\n                  await HospitalService.updatePasswordDoctor({\r\n                    id_account:id_account,\r\n                    password:this.password_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.isModifyPassword = false\r\n                  this.password_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Password')\r\n            } \r\n            break;\r\n\r\n          case 'department':\r\n            if(this.department_modify){\r\n              try {\r\n                  await HospitalService.updateDepartmentDoctor({\r\n                    id_account:id_account,\r\n                    department:this.department_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('department',id_account)\r\n                  this.isModifyDepartment = false\r\n                  this.department_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Phòng Ban')\r\n            } \r\n            break;\r\n\r\n          case 'specialize':\r\n            if(this.specialize_modify){\r\n              try {\r\n                  await HospitalService.updateSpecializeDoctor({\r\n                    id_account:id_account,\r\n                    specialize:this.specialize_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('specialize',id_account)\r\n                  this.isModifySpecialize = false\r\n                  this.specialize_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Chuyên môn')\r\n            } \r\n            break;\r\n\r\n          case 'cmnd':\r\n            if(this.cmnd_modify){\r\n              try {\r\n                  await HospitalService.updateCmndDoctor({\r\n                    id_account:id_account,\r\n                    cmnd:this.cmnd_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('cmnd',id_account)\r\n                  this.isModifyCmnd = false\r\n                  this.cmnd_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('CMND')\r\n            } \r\n            break;\r\n\r\n          case 'phone':\r\n            if(this.phone_modify){\r\n              try {\r\n                  await HospitalService.updatePhoneDoctor({\r\n                    id_account:id_account,\r\n                    phone:this.phone_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('phone',id_account)\r\n                  this.isModifyPhone = false\r\n                  this.phone_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Số Điện Thoại')\r\n            } \r\n            break;\r\n\r\n          case 'sex':\r\n            if(this.sex_modify){\r\n              try {\r\n                  await HospitalService.updateSexDoctor({\r\n                    id_account:id_account,\r\n                    sex:this.sex_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('sex',id_account)\r\n                  this.isModifySex = false\r\n                  this.sex_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Giới Tính')\r\n            } \r\n            break;\r\n\r\n          case 'birthday':\r\n            if(this.birthday_modify){\r\n              if(!this.validationBirthday(this.birthday_modify)){\r\n                \r\n              }else{\r\n                try {\r\n                    await HospitalService.updateBirthdayDoctor({\r\n                      id_account:id_account,\r\n                      birthday:this.birthday_modify\r\n                    })\r\n                    this.SussessToasted();\r\n                    this.ModifyView('birthday',id_account)\r\n                    this.isModifyBirthday = false\r\n                    this.birthday_modify = ''\r\n                }catch (error) {\r\n                  this.ErrorToasted(error)\r\n                }\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Sinh nhật')\r\n            } \r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n\r\n      },\r\n      validationBirthday(birthday){\r\n        const birth = birthday.split('-');\r\n        const day = birth[2]\r\n        const month = birth[1]\r\n        const year = birth[0]\r\n        if(parseInt(day) > 32 || parseInt(day)<1){\r\n            this.$toasted.show(`Sai ngày !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n          return false;\r\n        }\r\n        if(parseInt(month) > 12 || parseInt(month)<1){\r\n          this.$toasted.show(`Sai tháng !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n          return false;\r\n        }\r\n        if(parseInt(year) > 2019 || parseInt(year)<1800){\r\n          this.$toasted.show(`Sai năm !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n          return false;\r\n        }\r\n        return true\r\n      },\r\n\r\n\r\n\r\n      info(item, index, button) {\r\n        this.infoModal.title = `Row index: ${index}`\r\n        this.infoModal.content = JSON.stringify(item, null, 2)\r\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\r\n      },\r\n      resetInfoModal() {\r\n        this.infoModal.title = ''\r\n        this.infoModal.content = ''\r\n      },\r\n      onFiltered(filteredItems) {\r\n        this.totalRows = filteredItems.length\r\n        this.currentPage = 1\r\n      },\r\n    },\r\n  }\r\n",{"version":3,"sources":["Hospital.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Hospital.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n    <div class=\"pt-5 bg pb-3 bg\" \r\n    :style=\"{\r\n        'background-image':\r\n          'url(' + require('@/assets/images/luami.jpg') + ') '\r\n      }\">\r\n            <div class=\"main_register m-auto \">\r\n              <div class=\"d-flex pr-5 pt-4 \">\r\n                <div class=\"mr-auto pl-5 pt-3\">Xin Chào</div>\r\n\r\n                    <b-dropdown id=\"dropdown-1\" text=\"Chọn chức năng quản lý\" variant=\"warning\" size=\"sm\">\r\n                      <b-dropdown-item @click=\"addDoctor\">Thêm bác sĩ</b-dropdown-item>\r\n                      <b-dropdown-item @click=\"drugmanagement\">Quản lý thuốc</b-dropdown-item>\r\n                      <b-dropdown-divider></b-dropdown-divider>\r\n                      <b-dropdown-item v-b-modal.modal-2>Thay đổi mật khẩu</b-dropdown-item>\r\n                    </b-dropdown>\r\n         \r\n                <b-modal id=\"modal-2\" title=\"Đổi Mật Khẩu\">\r\n                  <b class=\"my-4\">Nhập Mật Khẩu Bạn Muốn Đổi:</b>\r\n                  <p class=\"my-4\"><input type=\"password\" placeholder=\"nhập mật khẩu\" class=\"inputStyle\" v-model=\"passwordchangeValue\"></p>\r\n                  <p class=\"my-4\"><input type=\"password\" placeholder=\"nhập lại mật khẩu\" class=\"inputStyle\" v-model=\"passwordchangeValueAgain\"></p>\r\n                  <template v-slot:modal-footer>\r\n                    <div class=\"w-100\">\r\n                      <b-button\r\n                        variant=\"warning\"\r\n                        size=\"sm\"\r\n                        class=\"float-right ml-3\"\r\n                        @click=\"validationPasswordChange\"\r\n                      >\r\n                        Gửi Yêu Cầu Đổi Mật Khẩu\r\n                      </b-button>\r\n                      \r\n                      <b-button\r\n                        variant=\"primary\"\r\n                        size=\"sm\"\r\n                        class=\"float-right\"\r\n                        @click=\"closeModal2\"\r\n                      >\r\n                        Đóng\r\n                      </b-button>\r\n                    </div>\r\n                  </template>\r\n                </b-modal>\r\n\r\n              </div>\r\n                  <b-row class=\"px-5\">\r\n                    <b-col md=\"6\" class=\"my-3\">\r\n                      <b-form-group label-cols-sm=\"3\" label=\"Filter\" class=\"mb-0\">\r\n                        <b-input-group>\r\n                          <b-form-input v-model=\"filter\" placeholder=\"Type to Search\"></b-form-input>\r\n                          <b-input-group-append>\r\n                            <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\r\n                          </b-input-group-append>\r\n                        </b-input-group>\r\n                      </b-form-group>\r\n                    </b-col>\r\n\r\n                    <b-col md=\"6\" class=\"my-3\">\r\n                      <b-form-group label-cols-sm=\"3\" label=\"Per page\" class=\"mb-0\">\r\n                        <b-form-select v-model=\"perPage\" :options=\"pageOptions\"></b-form-select>\r\n                      </b-form-group>\r\n                    </b-col>\r\n                  </b-row>\r\n                <div class=\"register\">\r\n                    <div class=\"p_1r mlr_1-5r\" >\r\n                      <b-table\r\n                        show-empty\r\n                        bordered\r\n                        striped\r\n                        stacked=\"md\"\r\n                        :items=\"doctors\"\r\n                        :fields=\"fields\"\r\n                        :current-page=\"currentPage\"\r\n                        :per-page=\"perPage\"\r\n                        :filter=\"filter\"\r\n                      \r\n                        @filtered=\"onFiltered\"\r\n                      >\r\n                        <template slot=\"name\" slot-scope=\"row\">\r\n                          {{ row.item.firstname }} {{ row.item.lastname }}\r\n                        </template>\r\n\r\n                        <template slot=\"age\" slot-scope=\"row\">\r\n                          {{new Date().getFullYear() - row.item.year }}\r\n                        </template>\r\n\r\n                        <template slot=\"actions\" slot-scope=\"row\" class=\"d-flex justify-content-start\">\r\n                          <b-button size=\"sm\" @click=\"row.toggleDetails\" class=\"text-white\">\r\n                            {{ row.detailsShowing ? 'Ẩn' : 'Xem' }} Chi Tiết\r\n                          </b-button>\r\n                          <b-button size=\"sm\" @click=\"changeInfo(row.item, row.index, $event.target)\" class=\"ml-4 mr-4 btn-info text-white\">\r\n                            Sửa Thông tin\r\n                          </b-button>                       \r\n                          <b-button size=\"sm\" @click=\"deleteDoctor(row.item, row.index, $event.target)\" class=\"btn-danger text-white \">\r\n                            Xóa Thông tin\r\n                          </b-button>\r\n                        </template>\r\n\r\n\r\n                        <template slot=\"row-details\" slot-scope=\"row\">\r\n                          <b-card>\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Họ và Tên:</b></b-col>\r\n                              <b-col>{{ row.item.firstname }} {{ row.item.lastname }}</b-col>\r\n                            </b-row>\r\n\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Ngày sinh(mm/dd/yyyy):</b></b-col>\r\n                              <b-col>{{ row.item.month }} / {{ row.item.day }} / {{ row.item.year }}</b-col>\r\n                            </b-row>\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Giới tính:</b></b-col>\r\n                              <b-col>{{ row.item.sex }}</b-col>\r\n                            </b-row>\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Phòng ban:</b></b-col>\r\n                              <b-col>{{ row.item.department }}</b-col>\r\n                            </b-row>\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Chuyên môn:</b></b-col>\r\n                              <b-col>{{ row.item.specialize }}</b-col>\r\n                            </b-row>\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Số điện thoại:</b></b-col>\r\n                              <b-col>{{ row.item.phone }}</b-col>\r\n                            </b-row>\r\n\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>Địa chỉ:</b></b-col>\r\n                              <b-col>{{ row.item.address }}</b-col>\r\n                            </b-row>\r\n                            \r\n\r\n                            <b-row class=\"mb-2\">\r\n                              <b-col sm=\"3\" class=\"text-sm-right\"><b>CMND:</b></b-col>\r\n                              <b-col>{{ row.item.cmnd }}</b-col>\r\n                            </b-row>\r\n\r\n                            <b-button size=\"sm\" @click=\"row.toggleDetails\" class=\"btn-warning\">Ẩn Chi Tiết</b-button>\r\n                          </b-card>\r\n                        </template>\r\n                      </b-table>\r\n\r\n                      <b-row>\r\n                        <b-col md=\"6\" class=\"my-1\">\r\n                          <b-pagination\r\n                            v-model=\"currentPage\"\r\n                            :total-rows=\"totalRows\"\r\n                            :per-page=\"perPage\"\r\n                            class=\"my-0\"\r\n                          ></b-pagination>\r\n                        </b-col>\r\n                      </b-row>\r\n\r\n                      <!-- Info modal -->\r\n                      <b-modal :id=\"infoModal.id\" :title=\"infoModal.title\" ok-only @hide=\"resetInfoModal\">\r\n                        <pre>{{ infoModal.content }}</pre>\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyFirstName \" @click=\"isModifyFirstName = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Họ và tên lót</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.firstname_doctor}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Họ và tên lót </strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" placeholder=\"Họ và tên lót\" style=\"width:90%;\"  v-model=\"firstname_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'firstname')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('firstname')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyLastName \" @click=\"isModifyLastName = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Tên</strong></div>\r\n                            <div class=\"col-sm-6 p-2\" >\r\n                              {{infoModal.lastname_doctor}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Tên bác sĩ</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" placeholder=\"Tên bác sĩ\" style=\"width:90%;\"  v-model=\"lastname_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'lastname')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('lastname')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyAddress \" @click=\"isModifyAddress = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Địa chỉ</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.address_doctor}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Địa chỉ</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" placeholder=\"12 Tân hưng, etc..\" style=\"width:90%;\"  v-model=\"address_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'address')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('address')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyEmail\" @click=\"isModifyEmail = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Email</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.email_doctor}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Email</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" placeholder=\"nguyenvana@gmail.com\" style=\"width:90%;\"  v-model=\"email_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'email')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('email')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyPassword\" @click=\"isModifyPassword = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Password</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.password_doctor}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Password</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"password_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'password')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('password')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyDepartment\" @click=\"isModifyDepartment = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Phòng ban</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.department}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Phòng ban</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" style=\"width:90%;\" v-model=\"department_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'department')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('department')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifySpecialize\" @click=\"isModifySpecialize = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chuyên Môn</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.specialize}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chuyên môn</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"specialize_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'specialize')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('specialize')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyCmnd\" @click=\"isModifyCmnd = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chứng minh nhân dân</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.cmnd_doctor}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Chứng minh nhân dân</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"cmnd_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'cmnd')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('cmnd')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyPhone\" @click=\"isModifyPhone = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>SDT</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.phone_doctor}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>SDT</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"text\" style=\"width:90%;\"  v-model=\"phone_modify\">\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'phone')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('phone')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifySex\" @click=\"isModifySex = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Giới tính</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.sex_doctor}} \r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Giới tính</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <input type=\"radio\" name=\"gender\" value=\"nam\" v-model=\"sex_modify\"> Nam&ensp; \r\n                              <input type=\"radio\" name=\"gender\" value=\"nu\" v-model=\"sex_modify\"> Nữ\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'sex')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('sex')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"row model_wrapper\" v-if=\"!isModifyBirthday\" @click=\"isModifyBirthday = true \">\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Sinh Nhật</strong></div>\r\n                            <div class=\"col-sm-6 p-2\">\r\n                              {{infoModal.birthday}}\r\n                            </div>\r\n                            <div class=\"col-sm-3 p-2 modify-btn\">Chỉnh sửa</div>\r\n                        </div>\r\n                        \r\n                        <div class=\"row model_wrapper\" v-else >\r\n                            <div class=\"col-sm-3 p-2 model_title\"><strong>Sinh nhật</strong></div>\r\n                            <div class=\"col-sm-9 p-2\">\r\n                              <b-form-input :id=\"`type-date`\" type=\"date\" v-model=\"birthday_modify\"></b-form-input>\r\n                            </div>\r\n                            <div class=\"col-sm-12 d-flex justify-content-end text-center mb-3\">\r\n                              <button type=\"button\" class=\"btn orange-btn btn-sm mr-3\" @click=\"SendRequestModifyInfomation(infoModal.id_account,'birthday')\">Thay đổi</button>\r\n                              <button type=\"button\" class=\"btn btn-outline-secondary mr-4 btn-sm \" @click=\"cancelModify('birthday')\">Hủy</button>\r\n                            </div>\r\n                        </div>\r\n                        \r\n\r\n\r\n                      </b-modal>\r\n                </div>\r\n            </div>  \r\n    </div>\r\n\r\n    <b-modal size=\"sm\" id=\"modal-ask-again\" title=\"Xác Nhận Xóa\"  ref=\"modal-ask-again\" hide-footer\t>\r\n      <b class=\"my-4\">Bạn có chắc chắn muốn xóa ?</b>\r\n      <div class='d-flex justify-content-end my-2'>\r\n          <b-button class=\"mx-2\" variant=\"secondary\" @click=\"cancelDelete\">Hủy</b-button>\r\n          <b-button class=\"mx-2\" variant=\"danger\" @click=\"agreeDelete\">Đồng Ý</b-button>\r\n      </div>\r\n    </b-modal>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport HospitalService from '@/services/HospitalService'\r\nimport AccountService from '@/services/AccountService'\r\n  export default {\r\n    data() {\r\n      return {\r\n        get isUserLoggedIn() {\r\n          return localStorage.getItem('isUserLoggedIn' || false);\r\n        },\r\n        doctors:[],\r\n        fields: [\r\n          { key: 'name', label: 'Họ và Tên', sortable: true, sortDirection: 'desc' },\r\n          {key: 'age', label: 'Tuổi', sortable: true, class: 'text-center'},\r\n          { key: 'id_account', label: 'ID', sortable: true, sortDirection: 'desc', class: 'text-center' },\r\n          { key: 'department', label: 'Phòng ban', sortable: true },\r\n          { key: 'specialize', label: 'Chuyên môn', sortable: true },\r\n          { key: 'email', label: 'Email', formatter: 'GetFieldsemail',sortable: true  },\r\n          { key: 'actions', label: 'Actions', class: 'd-flex justify-content-center ' }\r\n        ],\r\n        totalRows: 1,\r\n        currentPage: 1,\r\n        perPage: 5,\r\n        id_hospital:'',\r\n        pageOptions: [5, 10, 15],\r\n        filter: null,\r\n        infoModal: {\r\n          id: 'info-modal',\r\n          title: '',\r\n          content: '',\r\n          firstname_doctor:null\r\n        },\r\n        account_doctor_:[],\r\n\r\n        isModifyFirstName:false,\r\n        isModifyLastName:false,\r\n        isModifyPhone:false,\r\n        isModifyAddress:false,\r\n        isModifyEmail:false,\r\n        isModifyPassword:false,\r\n        isModifyDepartment:false,\r\n        isModifySpecialize:false,\r\n        isModifyCmnd:false,\r\n        isModifySex:false,\r\n        isModifyBirthday:false,\r\n\r\n        department_modify:'',\r\n        specialize_modify:'',\r\n        cmnd_modify:'',\r\n        sex_modify:'',\r\n        birthday_modify:'',\r\n        email_modify:'',\r\n        password_modify:'',\r\n        phone_modify:'',\r\n        address_modify:'',\r\n        firstname_modify:'',\r\n        lastname_modify:'',\r\n        user:null,\r\n        passwordchangeValue:'',\r\n        passwordchangeValueAgain:'',\r\n        currentItem:'',\r\n        currentIndex:'',\r\n        currentButton:''\r\n      }\r\n    },\r\n    async mounted() {\r\n      this.user =JSON.parse(localStorage.getItem('user'))\r\n      const id_hospital = this.user.id\r\n      this.doctors = (await HospitalService.show(id_hospital)).data\r\n      const id_account_doctor = this.doctors.map(x=> x.id_account)\r\n      const payload = JSON.stringify({\r\n        id_hospital:id_hospital,\r\n        roles:this.user.roles,\r\n        id_account:id_account_doctor\r\n        \r\n      })\r\n\r\n      this.account_doctor_ = (await AccountService.getAllAcountDoctors({\r\n        payload:payload\r\n      })).data\r\n      this.totalRows = this.doctors.length\r\n    },\r\n    methods: {\r\n      validationPasswordChange(){\r\n        if(!this.passwordchangeValue || !this.passwordchangeValueAgain){\r\n            this.$toasted.show('Vui Lòng Nhập Đầy Đủ Thông Tin !!!', { \r\n            theme: \"bubble\",\r\n            position: \"bottom-right\", \r\n            duration : 4000\r\n        });\r\n        }else if(this.passwordchangeValue !== this.passwordchangeValueAgain){\r\n          this.$toasted.show(`Mật Khẩu Và Mật Khẩu Xác Nhận Không Giống Nhau !!!<br>Vui Lòng Kiểm Tra Lại !!!`, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 5000\r\n        });\r\n        }else if(this.passwordchangeValue.length < 8){\r\n          this.$toasted.show(`Mật khẩu được cung cấp phải khớp với các quy tắc sau:\\n            <br><br>\\n            1. Nó phải chứa chỉ các ký tự sau: chữ thường, chữ hoa, chữ số.\\n            <br><br>\\n            2. mật khẩu dài ít nhất 8 kí tự và không dài hơn 32 kí tự.\\n            </div>\\n        `, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 4000\r\n        });\r\n        }else{\r\n          this.changepassword();\r\n          this.closeModal2();\r\n        }\r\n      },\r\n      closeModal2(){\r\n        this.passwordchangeValue = ''\r\n        this.passwordchangeValueAgain = ''\r\n        this.$root.$emit('bv::hide::modal', \"modal-2\", \"button\")\r\n      },\r\n      async changepassword(){\r\n        try {\r\n            await HospitalService.changePassword({\r\n              id_account:this.user.id,\r\n              password_hospital:this.passwordchangeValue\r\n          })\r\n        } catch (error) {\r\n          this.ErrorToasted(error)\r\n        }\r\n\r\n            this.$toasted.show(`Cập Nhập Thành công !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n      },\r\n      async addDoctor(){\r\n          this.$router.push({\r\n            path: `/Hospital/${this.user.id}/addDoctor`\r\n          })\r\n      },\r\n      drugmanagement(){\r\n          this.$router.push({\r\n            path: `/Hospital/${this.user.id}/drugmanagement`\r\n          })\r\n      },\r\n      async deleteDoctor(item, index, button){\r\n        this.currentItem = item\r\n        this.currentIndex = index\r\n        this.currentButton = button\r\n        this.$root.$emit('bv::toggle::modal', 'modal-ask-again', '#btnToggle')\r\n\r\n\r\n        \r\n      },\r\n      cancelDelete(){\r\n        this.$refs['modal-ask-again'].hide()\r\n        this.currentItem = '';\r\n        this.currentIndex = '';\r\n        this.currentButton = '';\r\n      },\r\n      async agreeDelete(){\r\n        const delete_result = (await HospitalService.delete(this.currentItem.id_account)).data      \r\n          this.$toasted.show(`Đã xóa bác sĩ ${delete_result.lastname} Thành công !!`, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 2000\r\n        });\r\n        if (~this.currentIndex)\r\n          this.doctors.splice(this.currentIndex, 1)\r\n        this.currentItem = '';\r\n        this.currentIndex = '';\r\n        this.currentButton = '';\r\n        this.$refs['modal-ask-again'].hide()\r\n\r\n      },\r\n      GetFieldsemail(row,key,item){\r\n        for(var account_doctor__ of this.account_doctor_) {\r\n            if(account_doctor__.id == item.id_account){\r\n              return account_doctor__.email\r\n            }\r\n        }\r\n      },\r\n      changeInfo(item, index, button) {\r\n          // this.$router.push({\r\n          //   path: `/Hospital/${this.user.id}/changeInfo`\r\n          // })\r\n        this.infoModal.title = `Thay đổi thông tin`\r\n        this.infoModal.lastname_doctor = item.lastname\r\n        this.infoModal.firstname_doctor = item.firstname\r\n        this.infoModal.cmnd_doctor = item.cmnd\r\n        this.infoModal.sex_doctor = item.sex\r\n        this.infoModal.phone_doctor = item.phone\r\n        this.infoModal.address_doctor = item.address\r\n        this.infoModal.id_account = item.id_account\r\n        this.infoModal.department = item.department\r\n        this.infoModal.specialize = item.specialize\r\n        this.infoModal.birthday = item.month + ' / ' + item.day + ' / ' + item.year \r\n        this.infoModal.email_doctor = this.GetFieldsemail('row','key',item)\r\n\r\n        this.infoModal.password = ''\r\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\r\n\r\n      },\r\n      cancelModify(payload){\r\n        if(payload == 'firstname'){\r\n          this.isModifyFirstName = false\r\n        }\r\n        else if(payload == 'lastname'){\r\n          this.isModifyLastName = false\r\n        }\r\n        else if(payload == 'phone'){\r\n          this.isModifyPhone = false\r\n        }\r\n        else if(payload == 'address'){\r\n          this.isModifyAddress = false\r\n        }\r\n        else if(payload == 'email'){\r\n          this.isModifyEmail = false\r\n        }\r\n        else if(payload == 'password'){\r\n          this.isModifyPassword = false\r\n        }\r\n        else if(payload == 'department'){\r\n          this.isModifyDepartment = false\r\n        }\r\n        else if(payload == 'specialize'){\r\n          this.isModifySpecialize = false\r\n        }\r\n        else if(payload == 'birthday'){\r\n          this.isModifyBirthday = false\r\n        }\r\n        else if(payload == 'sex'){\r\n          this.isModifySex = false\r\n        }\r\n        else if(payload == 'phone'){\r\n          this.isModifyPhone = false\r\n        }\r\n        else if(payload == 'cmnd'){\r\n          this.isModifyCmnd = false\r\n        }\r\n        else{\r\n          this.$toasted.show(`Có lỗi xãy ra!!`, { \r\n            theme: \"bubble\", \r\n            position: \"bottom-right\", \r\n            duration : 2000\r\n        });\r\n\r\n        }\r\n      },\r\n      async SussessToasted(){\r\n        this.$toasted.show(`Update Thành công !!`, { \r\n            theme: \"bubble\",\r\n            position: \"bottom-right\", \r\n            duration : 3000\r\n        });\r\n      },\r\n      async ErrorToasted(error){\r\n        this.$toasted.show(`${error.response.data.error}`, { \r\n            theme: \"toasted-primary\", \r\n            position: \"bottom-center\",\r\n            duration : 5000\r\n        });\r\n      },\r\n      async ValidationToasted(name){\r\n        this.$toasted.show(`Vui lòng nhập ${name} bạn muốn thay đổi !!`, { \r\n              theme: \"toasted-primary\", \r\n              position: \"bottom-center\", \r\n              duration : 3000\r\n          });\r\n      },\r\n      async ModifyView(nameModifyView ,id_account){\r\n        if(nameModifyView == 'firstname'){\r\n          this.infoModal.firstname_doctor = this.firstname_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].firstname = this.firstname_modify\r\n        }\r\n        else if(nameModifyView == 'lastname'){\r\n          this.infoModal.lastname_doctor = this.lastname_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].lastname = this.lastname_modify\r\n        }\r\n        else if(nameModifyView == 'address'){\r\n          this.infoModal.address_doctor = this.address_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].address = this.address_modify\r\n        }\r\n        else if(nameModifyView == 'email'){\r\n          this.infoModal.email_doctor = this.email_modify\r\n          this.account_doctor_.filter(x=>x.id_account == id_account)[0].email = this.email_modify\r\n        }\r\n        else if(nameModifyView == 'department'){\r\n          this.infoModal.department = this.department_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].department = this.department_modify\r\n        }\r\n        else if(nameModifyView == 'specialize'){\r\n          this.infoModal.specialize = this.specialize_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].specialize = this.specialize_modify\r\n        }\r\n        else if(nameModifyView == 'cmnd'){\r\n          this.infoModal.cmnd_doctor = this.cmnd_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].cmnd = this.cmnd_modify\r\n        }\r\n        else if(nameModifyView == 'phone'){\r\n          this.infoModal.phone_doctor = this.phone_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].phone = this.phone_modify\r\n        }\r\n        else if(nameModifyView == 'sex'){\r\n          this.infoModal.sex_doctor = this.sex_modify\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].sex = this.sex_modify\r\n\r\n        }\r\n        else if(nameModifyView == 'birthday'){\r\n          const date = this.birthday_modify;\r\n          const yearVariable = date.slice(0, 4)\r\n          const monthVariable = date.slice(5, 7)\r\n          const dayVariable = date.slice(8, 10)\r\n          this.infoModal.birthday = monthVariable +' / '+ dayVariable +' / '+ yearVariable\r\n\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].day = dayVariable\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].month = monthVariable\r\n          this.doctors.filter(x=>x.id_account == id_account)[0].year = yearVariable\r\n        }\r\n        \r\n      },\r\n\r\n\r\n      async SendRequestModifyInfomation(id_account, nameModify){\r\n        switch (nameModify) {\r\n          case 'firstname':\r\n            if(this.firstname_modify){\r\n              try {\r\n                  await HospitalService.updateFirstNameDoctor({\r\n                    id_account:id_account,\r\n                    firstname:this.firstname_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('firstname',id_account)\r\n                  this.isModifyFirstName = false\r\n                  this.firstname_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Họ và tên lót')\r\n            } \r\n            break;\r\n\r\n          case 'lastname':\r\n            if(this.lastname_modify){\r\n              try {\r\n                  await HospitalService.updateLastNameDoctor({\r\n                    id_account:id_account,\r\n                    lastname:this.lastname_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('lastname',id_account)\r\n                  this.isModifyLastName = false\r\n                  this.lastname_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Tên')\r\n            } \r\n            break;\r\n\r\n\r\n          case 'address':\r\n            if(this.address_modify){\r\n              try {\r\n                  await HospitalService.updateAddressDoctor({\r\n                    id_account:id_account,\r\n                    address:this.address_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('address',id_account)\r\n                  this.isModifyAddress = false\r\n                  this.address_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Địa Chỉ')\r\n            } \r\n            break;\r\n\r\n\r\n          case 'email':\r\n            if(this.email_modify){\r\n              try {\r\n                  await HospitalService.updateEmailDoctor({\r\n                    id_account:id_account,\r\n                    email:this.email_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('email',id_account)\r\n                  this.isModifyEmail = false\r\n                  this.email_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Email')\r\n            } \r\n            break;\r\n\r\n          case 'password':\r\n            if(this.password_modify){\r\n              try {\r\n                  await HospitalService.updatePasswordDoctor({\r\n                    id_account:id_account,\r\n                    password:this.password_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.isModifyPassword = false\r\n                  this.password_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Password')\r\n            } \r\n            break;\r\n\r\n          case 'department':\r\n            if(this.department_modify){\r\n              try {\r\n                  await HospitalService.updateDepartmentDoctor({\r\n                    id_account:id_account,\r\n                    department:this.department_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('department',id_account)\r\n                  this.isModifyDepartment = false\r\n                  this.department_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Phòng Ban')\r\n            } \r\n            break;\r\n\r\n          case 'specialize':\r\n            if(this.specialize_modify){\r\n              try {\r\n                  await HospitalService.updateSpecializeDoctor({\r\n                    id_account:id_account,\r\n                    specialize:this.specialize_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('specialize',id_account)\r\n                  this.isModifySpecialize = false\r\n                  this.specialize_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Chuyên môn')\r\n            } \r\n            break;\r\n\r\n          case 'cmnd':\r\n            if(this.cmnd_modify){\r\n              try {\r\n                  await HospitalService.updateCmndDoctor({\r\n                    id_account:id_account,\r\n                    cmnd:this.cmnd_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('cmnd',id_account)\r\n                  this.isModifyCmnd = false\r\n                  this.cmnd_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('CMND')\r\n            } \r\n            break;\r\n\r\n          case 'phone':\r\n            if(this.phone_modify){\r\n              try {\r\n                  await HospitalService.updatePhoneDoctor({\r\n                    id_account:id_account,\r\n                    phone:this.phone_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('phone',id_account)\r\n                  this.isModifyPhone = false\r\n                  this.phone_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Số Điện Thoại')\r\n            } \r\n            break;\r\n\r\n          case 'sex':\r\n            if(this.sex_modify){\r\n              try {\r\n                  await HospitalService.updateSexDoctor({\r\n                    id_account:id_account,\r\n                    sex:this.sex_modify\r\n                  })\r\n                  this.SussessToasted();\r\n                  this.ModifyView('sex',id_account)\r\n                  this.isModifySex = false\r\n                  this.sex_modify = ''\r\n              }catch (error) {\r\n                this.ErrorToasted(error)\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Giới Tính')\r\n            } \r\n            break;\r\n\r\n          case 'birthday':\r\n            if(this.birthday_modify){\r\n              if(!this.validationBirthday(this.birthday_modify)){\r\n                \r\n              }else{\r\n                try {\r\n                    await HospitalService.updateBirthdayDoctor({\r\n                      id_account:id_account,\r\n                      birthday:this.birthday_modify\r\n                    })\r\n                    this.SussessToasted();\r\n                    this.ModifyView('birthday',id_account)\r\n                    this.isModifyBirthday = false\r\n                    this.birthday_modify = ''\r\n                }catch (error) {\r\n                  this.ErrorToasted(error)\r\n                }\r\n              }\r\n            }else{\r\n              this.ValidationToasted('Sinh nhật')\r\n            } \r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n\r\n      },\r\n      validationBirthday(birthday){\r\n        const birth = birthday.split('-');\r\n        const day = birth[2]\r\n        const month = birth[1]\r\n        const year = birth[0]\r\n        if(parseInt(day) > 32 || parseInt(day)<1){\r\n            this.$toasted.show(`Sai ngày !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n          return false;\r\n        }\r\n        if(parseInt(month) > 12 || parseInt(month)<1){\r\n          this.$toasted.show(`Sai tháng !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n          return false;\r\n        }\r\n        if(parseInt(year) > 2019 || parseInt(year)<1800){\r\n          this.$toasted.show(`Sai năm !!`, { \r\n              theme: \"bubble\",\r\n              position: \"bottom-right\", \r\n              duration : 3000\r\n          });\r\n          return false;\r\n        }\r\n        return true\r\n      },\r\n\r\n\r\n\r\n      info(item, index, button) {\r\n        this.infoModal.title = `Row index: ${index}`\r\n        this.infoModal.content = JSON.stringify(item, null, 2)\r\n        this.$root.$emit('bv::show::modal', this.infoModal.id, button)\r\n      },\r\n      resetInfoModal() {\r\n        this.infoModal.title = ''\r\n        this.infoModal.content = ''\r\n      },\r\n      onFiltered(filteredItems) {\r\n        this.totalRows = filteredItems.length\r\n        this.currentPage = 1\r\n      },\r\n    },\r\n  }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n*{\r\n    font-size: 14px;\r\n    font-family: \"Roboto\",\"Helvetica\",\"Arial\",sans-serif;\r\n    color: rgba(0,0,0,.54);\r\n}\r\n.bg{\r\n    background-repeat: no-repeat;\r\n    background-size:cover\r\n}\r\n.model_wrapper{\r\n  align-items: center;\r\n  border-bottom: 1px solid rgba(190,195,201);\r\n  margin-left: 5px;\r\n  margin-right: 5px;\r\n  cursor: pointer;\r\n}\r\n.model_wrapper:first-child{\r\n  border-top: 1px solid #aaa;\r\n}\r\n.model_wrapper:last-child{\r\n  border-bottom: 1px solid #aaa;\r\n}\r\n.model_wrapper:hover{\r\n  background: #f5f6f7;\r\n}\r\n.orange-btn{\r\n  background:#FF6F00;\r\n  color:white;\r\n}\r\n.orange-btn:hover{\r\n  background:#ff4400;\r\n  color:#ccc;\r\n}\r\n\r\n.model_title{\r\n  color: #333;\r\n}\r\n.main_register{\r\n    max-width: 95vw;\r\n    width: 100%;\r\n    background:white;\r\n    border-radius: 2px;\r\n    background: white;\r\n}\r\n.p_1r{\r\n    padding: 1rem;\r\n}\r\n.mlr_1-5r{\r\n    margin: 0 1.5rem;\r\n}\r\n.inputStyle{\r\n  padding: 0.25rem;\r\n  border:1px solid #aaa;\r\n  border-radius:4px;\r\n  width:100%;\r\n}\r\n</style>\r\n"]}]}