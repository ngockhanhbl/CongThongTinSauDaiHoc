{"remainingRequest":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\JobDetails.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\src\\components\\content\\JobDetails.vue","mtime":1594373727945},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Ryan\\CongThongTinSauDaiHoc\\master_portal\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { mapGetters} from \"vuex\";\r\nimport AdminService from '@/services/AdminService'\r\nimport GeneralService from '@/services/GeneralService'\r\nimport {db, storage} from '../firebaseInit'\r\nimport firebase from 'firebase/app'\r\nexport default {\r\n    data(){\r\n        return {\r\n            jobs:null,\r\n            jobdetails:null,\r\n            route:'',\r\n            name_user_apply:'',\r\n            comments_user_apply:'',\r\n            email_user_apply:'',\r\n            phone_user_apply:'',\r\n            file:'',\r\n            url:''\r\n        }\r\n    },\r\n    methods:{\r\n        validEmail: function (email) {\r\n            var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n            return re.test(email);\r\n        },\r\n        onFileChange(e) {\r\n            this.file = e.target.files[0];\r\n        },\r\n        resetApply(){\r\n            this.name_user_apply='';\r\n            this.comments_user_apply='';\r\n            this.email_user_apply='';\r\n            this.phone_user_apply='';\r\n            this.file='';        \r\n            this.$refs['modal-apply'].hide()\r\n\r\n        },\r\n        async addCV(){\r\n            const idjob = this.jobs.id || to.params.id;\r\n            try {\r\n                const response = await GeneralService.applyjob({\r\n                    IdJob: idjob,\r\n                    email: this.email_user_apply,\r\n                    name: this.name_user_apply,\r\n                    phone:this.phone_user_apply,\r\n                    comments:this.comments_user_apply,\r\n                })\r\n\r\n                var storageRef = firebase.storage().ref(`JOBCV/${idjob}/${response.data.jobcv.id}/`).put(this.file);\r\n\t\t\t\t\tstorageRef.on('state_changed', (snapshot) => {\r\n\t\t\t\t\t\t}, (error) => {\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\tstorageRef.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n                  });\r\n\t\t\t\t});\t\r\n                this.resetApply();\r\n                this.$toasted.show('Bạn đã ứng tuyển thành công !<br> chúng tôi sẽ liên hệ bn trong thời gian ngắn nhất.', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-right\",\r\n                    duration : 5000\r\n                });\r\n                \r\n            }catch (error) {\r\n                this.$toasted.show(`${error.response.data.error}`, { \r\n                    theme: \"toasted-primary\", \r\n                    position: \"bottom-right\", \r\n                    duration : 5000\r\n                });\r\n            }\r\n        },\r\n        checkform(){\r\n            if(!this.name_user_apply){\r\n                this.$toasted.show('Vui Lòng Nhập Họ Và Tên !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }\r\n            else if(!this.email_user_apply ){\r\n                this.$toasted.show('Vui Lòng Nhập Địa Chỉ Email !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }else if(!this.validEmail(this.email_user_apply)) {\r\n                this.$toasted.show('Vui Lòng Nhập Đúng Định Dạng Địa Chỉ Email !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }            \r\n            else if(!this.phone_user_apply ){\r\n                this.$toasted.show('Vui Lòng Nhập Số Điện Thoại !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }\r\n            else if(!this.file){\r\n                this.$toasted.show('Vui Lòng Bổ Sung File CV !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }else{\r\n                this.addCV();\r\n            }\r\n        },\r\n        CloseModalApply(){\r\n            this.$refs['modal-apply'].hide();\r\n            \r\n        }\r\n    },\r\n    watch: {\r\n        $route(to, from) {\r\n            const response = AdminService.getJobById({id:to.params.id})\r\n            this.jobs = response.data.job\r\n            this.jobdetails = response.data.jobdetails\r\n\r\n            // console.log(this.jobs.job)\r\n            // console.log(this.jobs.jobdetails)\r\n      }\r\n    },\r\n    async mounted(){\r\n        this.route = this.$route.params.id;\r\n        const response = await AdminService.getJobById({id:this.route})\r\n        this.jobs = response.data.job\r\n        this.jobdetails = response.data.jobdetails\r\n    },\r\n\r\n}\r\n",{"version":3,"sources":["JobDetails.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"JobDetails.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n<div class=\"pt-5\" v-if=\"jobs\">\r\n    <div class=\"bg-light\">\r\n        <div class=\"section-jobs\">\r\n            <div class=\"title d-flex\">\r\n                <strong>{{jobs.name}}</strong>         \r\n            </div>\r\n            <div> \r\n                <div class=\"careers\">\r\n                  <div class=\"d-flex\">\r\n                    <p class=\"icon mr-3\"><img src=\"@/assets/images/gear.svg\" /> <span class=\"pl-1\">{{jobs.type}}</span></p>\r\n                    <p class=\"icon mx-3\"><img src=\"@/assets/images/placeholder.svg\" /> <span class=\"pl-1\">{{jobs.location}}</span></p>\r\n                    <p class=\"icon mx-3\"><img src=\"@/assets/images/calendar.svg\" /> <span class=\"pl-1\">{{jobs.createdAt.slice(8, 10)}} - {{jobs.createdAt.slice(5, 7)}} - {{jobs.createdAt.slice(0, 4)}}</span></p>\r\n                  </div>\r\n                    <div class=\"details\">\r\n                        <div>\r\n                            <h3>Mô Tả Công Việc</h3>\r\n                            <div v-html=\"jobdetails.description\"></div>\r\n                        </div>\r\n                        \r\n                    </div> \r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n        <div class=\"apply d-flex\" >\r\n            <div v-b-modal.modal-apply class=\"applynow\"> Apply now </div>\r\n        </div>\r\n        <b-modal id=\"modal-apply\" ref=\"modal-apply\" title=\"Mẫu Ứng Tuyển\">\r\n            <div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-3 title_editor\">Họ Và Tên:</p>\r\n                    <span class=\"col-sm-9\">\r\n                        <input type=\"text\"  v-model=\"name_user_apply\" class=\"width-100 style_input\">\r\n                    </span>\r\n                </div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-3 title_editor\">Email:</p>\r\n                    <span class=\"col-sm-9\">\r\n                        <input type=\"text\" placeholder=\"Nhập email của bạn\"  v-model=\"email_user_apply\" class=\"width-100 style_input\">\r\n                    </span>\r\n                </div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-3 title_editor\">SĐT:</p>\r\n                    <span class=\"col-sm-9\">\r\n                        <input type=\"number\"  v-model=\"phone_user_apply\" class=\"width-100 style_input\">\r\n                    </span>\r\n                </div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-3 title_editor\">Ý Kiến</p>\r\n                    <span class=\"col-sm-9\">\r\n                        <textarea style_input  rows=\"5\" placeholder=\"để lại ý kiến của bạn...\" v-model=\"comments_user_apply\" class=\"width-100 style_input\"></textarea>\r\n                    </span>\r\n                </div>\r\n                <div class=\"my-2 d-flex\">\r\n                    <p class=\"col-sm-3 title_editor\">CV</p>\r\n                    <span class=\"col-sm-9\">\r\n                        <b-form-file\r\n                            v-model=\"file\"\r\n                            accept=\"image/*,application/pdf\"\r\n                            @change=\"onFileChange\"\r\n                            :state=\"Boolean(file)\"\r\n                            placeholder=\"Chọn File Hoặc Kéo Thả Ở Đây...\"\r\n                            drop-placeholder=\"Kéo Thả Ở Đây...\"\r\n                        >\r\n                            <div class=\"mt-3\">File Đã Chọn: {{file ? file.name : ''}}</div>\r\n                        </b-form-file>\r\n                    </span>\r\n                </div>\r\n\r\n            </div>\r\n            <template v-slot:modal-footer>\r\n                <div class=\"w-100\">\r\n                <b-button\r\n                    variant=\"secondary\"\r\n                    size=\"sm\"\r\n                    class=\"float-left text-white\"\r\n                    @click=\"CloseModalApply\"\r\n                >\r\n                    Đóng\r\n                </b-button>\r\n                <b-button\r\n                    variant=\"warning\"\r\n                    size=\"sm\"\r\n                    class=\"float-right icon text-white\"\r\n                    @click=\"checkform('modify')\"\r\n                >\r\n                    <img src=\"@/assets/images/send.svg\" /> Ứng Tuyển\r\n                </b-button>\r\n                </div>\r\n            </template>\r\n        </b-modal>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters} from \"vuex\";\r\nimport AdminService from '@/services/AdminService'\r\nimport GeneralService from '@/services/GeneralService'\r\nimport {db, storage} from '../firebaseInit'\r\nimport firebase from 'firebase/app'\r\nexport default {\r\n    data(){\r\n        return {\r\n            jobs:null,\r\n            jobdetails:null,\r\n            route:'',\r\n            name_user_apply:'',\r\n            comments_user_apply:'',\r\n            email_user_apply:'',\r\n            phone_user_apply:'',\r\n            file:'',\r\n            url:''\r\n        }\r\n    },\r\n    methods:{\r\n        validEmail: function (email) {\r\n            var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n            return re.test(email);\r\n        },\r\n        onFileChange(e) {\r\n            this.file = e.target.files[0];\r\n        },\r\n        resetApply(){\r\n            this.name_user_apply='';\r\n            this.comments_user_apply='';\r\n            this.email_user_apply='';\r\n            this.phone_user_apply='';\r\n            this.file='';        \r\n            this.$refs['modal-apply'].hide()\r\n\r\n        },\r\n        async addCV(){\r\n            const idjob = this.jobs.id || to.params.id;\r\n            try {\r\n                const response = await GeneralService.applyjob({\r\n                    IdJob: idjob,\r\n                    email: this.email_user_apply,\r\n                    name: this.name_user_apply,\r\n                    phone:this.phone_user_apply,\r\n                    comments:this.comments_user_apply,\r\n                })\r\n\r\n                var storageRef = firebase.storage().ref(`JOBCV/${idjob}/${response.data.jobcv.id}/`).put(this.file);\r\n\t\t\t\t\tstorageRef.on('state_changed', (snapshot) => {\r\n\t\t\t\t\t\t}, (error) => {\r\n\t\t\t\t\t\t}, () => {\r\n\t\t\t\t\t\tstorageRef.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n                  });\r\n\t\t\t\t});\t\r\n                this.resetApply();\r\n                this.$toasted.show('Bạn đã ứng tuyển thành công !<br> chúng tôi sẽ liên hệ bn trong thời gian ngắn nhất.', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-right\",\r\n                    duration : 5000\r\n                });\r\n                \r\n            }catch (error) {\r\n                this.$toasted.show(`${error.response.data.error}`, { \r\n                    theme: \"toasted-primary\", \r\n                    position: \"bottom-right\", \r\n                    duration : 5000\r\n                });\r\n            }\r\n        },\r\n        checkform(){\r\n            if(!this.name_user_apply){\r\n                this.$toasted.show('Vui Lòng Nhập Họ Và Tên !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }\r\n            else if(!this.email_user_apply ){\r\n                this.$toasted.show('Vui Lòng Nhập Địa Chỉ Email !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }else if(!this.validEmail(this.email_user_apply)) {\r\n                this.$toasted.show('Vui Lòng Nhập Đúng Định Dạng Địa Chỉ Email !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }            \r\n            else if(!this.phone_user_apply ){\r\n                this.$toasted.show('Vui Lòng Nhập Số Điện Thoại !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }\r\n            else if(!this.file){\r\n                this.$toasted.show('Vui Lòng Bổ Sung File CV !!!', { \r\n                    theme: \"toasted-primary\",\r\n                    position: \"bottom-center\", \r\n                    duration : 4000\r\n                });\r\n            }else{\r\n                this.addCV();\r\n            }\r\n        },\r\n        CloseModalApply(){\r\n            this.$refs['modal-apply'].hide();\r\n            \r\n        }\r\n    },\r\n    watch: {\r\n        $route(to, from) {\r\n            const response = AdminService.getJobById({id:to.params.id})\r\n            this.jobs = response.data.job\r\n            this.jobdetails = response.data.jobdetails\r\n\r\n            // console.log(this.jobs.job)\r\n            // console.log(this.jobs.jobdetails)\r\n      }\r\n    },\r\n    async mounted(){\r\n        this.route = this.$route.params.id;\r\n        const response = await AdminService.getJobById({id:this.route})\r\n        this.jobs = response.data.job\r\n        this.jobdetails = response.data.jobdetails\r\n    },\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n*{\r\n    color: #393d44;\r\n    font-size: 14px;\r\n    line-height: 20px;\r\n}\r\n.bg-light{\r\n    background-image: linear-gradient(180deg,#fafafe,#fafafe);\r\n}\r\n.section-jobs{\r\n    margin: 0 2rem;\r\n    padding: 6rem 0 1rem;\r\n}\r\n.icon img{\r\n    height: 15px;\r\n    width: 15px;\r\n    font-family: 'Neue Haas Text Roman',sans-serif;\r\n    font-size: 1rem;\r\n    line-height: 1.5rem;\r\n    color:#393d44;\r\n}\r\n\r\n.title strong{\r\n    margin-left: auto;\r\n    margin-right:auto;\r\n    font-size: 2.5rem;\r\n}\r\nh2,h3{\r\n    color:#162138;    \r\n}\r\n\r\n.careers{\r\n    width: 100%;\r\n    max-width: 750px;\r\n    display: block;\r\n    margin-top:6.8rem;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n}\r\n.apply{\r\n    width: 100%;\r\n    max-width: 750px;\r\n    display: block;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    padding-bottom: 2rem;\r\n}\r\n.namejob{\r\n    margin: 0;\r\n    font-size: 1.2rem;  \r\n}\r\n.positionjob{\r\n     color:#a49dc0;\r\n}\r\n.item{\r\n    background-image: linear-gradient(180deg,#fff,#fff);\r\n    margin-bottom: 0.8rem;\r\n    padding: 1.8rem;\r\n    border-radius: 4px;\r\n    box-shadow: 0 4px 10px 0 rgba(169,165,182,.12), 0 12px 30px 0 rgba(169,168,186,.12);\r\n}\r\n.applynow{\r\n    border:2px solid #40c4ff;\r\n    border-radius: 2px;\r\n    color: #40c4ff;\r\n    transition: all 150ms cubic-bezier(.55,.085,.68,.53);\r\n    padding: 0.4rem 2rem 0.55rem;\r\n}\r\n.applynow:hover{\r\n    color:white;\r\n    text-decoration: none;\r\n    background: #40c4ff;\r\n    cursor: pointer;\r\n}\r\n\r\na{\r\n    text-decoration: none;\r\n}\r\n.details h3{\r\n    font-size: 1.3rem;\r\n    color:darkblue;\r\n}\r\n.style_input{\r\n  border: 1px solid rgba(0,0,0,.54);\r\n  border-radius: 5px;\r\n  padding:0.25rem;\r\n}\r\n.width-100{\r\n  width: 100%;\r\n}\r\n.icon img{\r\n    height:1rem;\r\n    width:1rem;\r\n}\r\n</style>"]}]}